---
title: Предварительные требования для развертывания клиента Windows
titleSuffix: Configuration Manager
description: Ознакомьтесь с необходимыми условиями для развертывания клиентов Configuration Manager на компьютерах с Windows.
ms.date: 11/29/2019
ms.prod: configuration-manager
ms.technology: configmgr-client
ms.topic: conceptual
ms.assetid: 1a2a9b48-a95b-4643-b00c-b3079584ae2e
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 1d4cd7ffe38f7191a5361ad2e89817ea80f9f093
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81694792"
---
# <a name="prerequisites-for-deploying-clients-to-windows-computers-in-configuration-manager"></a>Необходимые условия для развертывания клиентов на компьютерах с Windows в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Развертыванию клиентов Configuration Manager в среде организации свойственны перечисленные ниже внешние зависимости и зависимости в пределах продукта. Кроме того, каждый метод развертывания клиентов имеет собственные зависимости, которые необходимо принимать во внимание при установке клиентов.  

Дополнительные сведения о минимальных требованиях к оборудованию и операционной системе для клиента Configuration Manager см. в разделе [Поддерживаемые конфигурации](../../plan-design/configs/supported-configurations.md).  

> [!NOTE]  
> Указанные в данной статье номера версий программного обеспечения являются минимальными требованиями.  


## <a name="prerequisites-for-windows-clients"></a><a name="BKMK_prereqs_computers"></a> Необходимые условия для клиентов Windows  

Используйте приведенные ниже сведения, чтобы определить необходимые условия для установки клиента Configuration Manager на устройствах с ОС Windows.  

### <a name="dependencies-external-to-configuration-manager"></a>Внешние зависимости Configuration Manager  

|Компонент|Описание:|  
|---|---|  
|Установщик Windows, версия 3.1.4000.2435|Необходим для использования файлов обновления установщика Windows (MSP) для пакетов и обновлений программного обеспечения.|  
|Фоновая интеллектуальная служба передачи Microsoft (BITS), версия 2.5|Необходима для регулируемой передачи данных между клиентским компьютером и системами сайта Configuration Manager. Служба BITS не скачивается автоматически во время установки клиента. При установке службы BITS на компьютерах обычно требуется перезагрузка.<br /><br /> Большинство операционных систем включают в себя службу BITS. Если службы BITS нет, установите ее перед установкой клиента Configuration Manager.|  
|Планировщик задач Microsoft|Включите эту службу в клиенте, чтобы завершить его установку.|  
|Поддержка подписывания кода с использованием алгоритма SHA-2|Начиная с версии 1906 клиенты нуждаются в поддержке алгоритма подписывания кода SHA-2. Дополнительные сведения см. в разделе [Поддержка подписывания кода с использованием алгоритма SHA-2](#bkmk_sha2).|

#### <a name="sha-2-code-signing-support"></a><a name="bkmk_sha2"></a> Поддержка подписывания кода с использованием алгоритма SHA-2

<!--SCCMDocs-pr#3404-->
Из-за уязвимостей в алгоритме SHA-1 и для обеспечения соответствия отраслевым стандартам, корпорация Майкрософт теперь подписывает двоичные файлы Configuration Manager, используя более безопасный алгоритм — SHA-2. Чтобы активировать поддержку подписывания кода с помощью алгоритма шифрования SHA-2, нужно обновить такие прежние версии ОС Windows. Дополнительные сведения см. в статье [2019 SHA-2 Требование подписания кода для Windows и WSUS](https://support.microsoft.com/help/4472027/2019-sha-2-code-signing-support-requirement-for-windows-and-wsus).

Если вы не обновите эти версии ОС, вы не сможете установить клиент Configuration Manager версии 1906. Это поведение применимо либо к установке нового клиента, либо к обновлению его предыдущей версии.

Если требуется управлять клиентом с версией Windows, которая не была обновлена, или которая старше указанных выше версий, используйте клиент расширенного взаимодействия (EIC) Configuration Manager версии 1902. Дополнительные сведения см. в статье [Использование клиентского программного обеспечения Configuration Manager для расширения взаимодействия с будущими версиями сайта Current Branch](../../understand/interoperability-client.md).

> [!Tip]  
> Если вы не используете [автоматическое обновление клиента](../manage/upgrade/upgrade-clients-for-windows-computers.md#bkmk_autoupdate) и не обновляете клиенты с помощью другого механизма, обязательно обновите версию ccmsetup. Более старая версия файла ccmsetup может неправильно проверить новый сертификат подписывания кода SHA-2 в двоичных файлах клиента версии 1906. Например, если файл ccmsetup.exe копируется в общую папку или используется ccmsetup.msi с групповой политикой.<!-- 4963362 -->
>
> Следующие механизмы обновления клиента затронуты не будут.
>
> - Принудительная установка клиента. Он использует клиентский пакет с этого сайта.
> - Установка путем обновления программного обеспечения: Обновление сайта повторно публикуется в службах WSUS
> - Устройства Windows под управлением Intune MDM Поддерживаемая версия этого механизма уже поддерживает подписывание кода SHA-2, но по-прежнему важно использовать последнюю версию файла ccmsetup.msi.

### <a name="dependencies-external-to-configuration-manager-and-automatically-downloaded-during-installation"></a><a name="bkmk_ExternalDependencies"></a> Внешние зависимости Configuration Manager, автоматически загружаемые в ходе установки  

Клиент Configuration Manager имеет внешние зависимости. Их наличие определяется тем, какая версия ОС используется на клиентском компьютере и какое программное обеспечение на нем установлено.  

Если эти зависимости необходимы для завершения установки клиента, они устанавливаются автоматически.  

|Компонент|Описание:|  
|---|---|  
|Агент обновления Windows, версия 7.0.6000.363|Требуется для поддержки операционной системой обнаружения и развертывания обновлений.|  
|Службы Microsoft Core XML Services (MSXML) версии 6.20.5002 или более поздней версии|Необходимы для поддержки обработки XML-документов в Windows.|  
|Библиотека удаленного разностного сжатия Microsoft (RDC)|Необходима для оптимизации передачи данных по сети.|  
|Распространяемый пакет Microsoft Visual C++ 2013 версии 12.0.21005.1|Требуется для поддержки операций клиента. При установке этого обновления на клиентских компьютерах для завершения установки может потребоваться перезагрузка.|  
|Распространяемый пакет Microsoft Visual C++ 2005 версии 8.0.50727.42|В версии 1606 и более ранних требуется для поддержки операций Microsoft SQL Server Compact.|  
|API-интерфейсы Windows Imaging 6.0.6001.18000|Необходимы для того, чтобы система Configuration Manager управляла файлами образа Windows (WIM).|  
|Microsoft Policy Platform 1.2.3514.0|Требуется, чтобы клиенты могли оценить параметры соответствия.|  
|Платформа Microsoft .NET Framework версии 4.5.2|Требуется для поддержки операций клиента. Автоматически устанавливается на клиентском компьютере, если на нем не установлена платформа Microsoft .NET Framework 4.5 или более поздней версии. См. статью [Дополнительные сведения о платформе Microsoft .NET Framework версии 4.5.2](#dotNet).|  
|Компоненты Microsoft SQL Server Compact версии 4.0 с пакетом обновлений 1 (SP1)|Требуется для хранения информации, относящейся к операциям клиента.|  

> [!Important]
> Пользовательский интерфейс Silverlight каталога приложений не поддерживается в текущей ветви версии 1806. Начиная с версии 1906, обновленные клиенты автоматически используют точку управления для развертываний приложений, доступных пользователю. Но вы не можете устанавливать новые роли каталога приложений. Поддержка ролей каталога приложений прекращена в версии 1910.  
>
> Дополнительные сведения см. в следующих статьях:
>
> - [Настройка центра программного обеспечения](../../../apps/plan-design/plan-for-software-center.md#bkmk_userex)
> - [Удаленные и устаревшие компоненты](../../plan-design/changes/deprecated/removed-and-deprecated-cmfeatures.md)  
>
> Если вы все еще используете пользовательский интерфейс веб-сайта каталога приложений, для клиента требуется наличие Microsoft Silverlight 5.1.41212.0. Клиент не устанавливает Silverlight автоматически. Основные функциональные возможности каталога приложений теперь реализованы в Центре программного обеспечения.<!--1356195-->

#### <a name="additional-details-about-microsoft-net-framework-version-452"></a><a name="dotNet"></a> Дополнительные сведения о платформе Microsoft .NET Framework версии 4.5.2  

> [!NOTE]  
> Версии .NET 4.0, 4.5 и 4.5.1 больше не поддерживаются. Дополнительные сведения см. в статье [Часто задаваемые вопросы о политике поддержки жизненного цикла Microsoft .NET Framework](https://support.microsoft.com/help/17455/lifecycle-faq-net-framework).  

Для завершения установки платформы Microsoft .NET Framework версии 4.5.2 может требоваться перезапуск системы. Уведомление **Требуется перезапуск** появится в области уведомлений. Ниже приведены общие сценарии, требующие перезапуска клиентских компьютеров.  

- На компьютере выполняются приложения или службы .NET.  

- Отсутствует одно или несколько обновлений программного обеспечения, необходимых для установки .NET.  

- Компьютер ожидает перезапуска после предыдущей установки обновлений программного обеспечения .NET Framework.  

После установки платформы .NET Framework 4.5.2 могут потребоваться дополнительные обновления. После их установки могут требоваться дополнительные перезагрузки компьютера.  

### <a name="configuration-manager-dependencies"></a>Зависимости Configuration Manager  

Дополнительные сведения см. в разделе [Определение ролей систем сайта для клиентов](plan/determine-the-site-system-roles-for-clients.md).  

|Компонент|Описание:|  
|---|---|  
|Точка управления|Для развертывания клиента Configuration Manager точка управления не требуется. Точка управления необходима клиентам для передачи данных на сайт. Без точки управления управлять клиентскими компьютерами невозможно.|  
|Точка распространения|Точка распространения — необязательная, но рекомендуемая роль системы сайта для развертывания клиентов и управления ими. Во всех точках распространения размещаются исходные файлы клиентов. Клиенты находят ближайшую точку распределения, с которой можно скачать исходные файлы во время развертывания или обновления клиентов. Если сайт не содержит точек распространения, компьютеры скачивают клиентские исходные файлы из точки управления.|  
|Резервная точка состояния|Резервная точка состояния — необязательная, но рекомендуемая роль системы сайта для развертывания клиентов. Резервная точка состояния отслеживает развертывание клиентов и позволяет компьютерам на сайте Configuration Manager отправлять сообщения о состоянии, когда они не могут установить связь с точкой управления.|  
|Точка служб отчетов|Точка служб отчетов — необязательная, однако рекомендуемая роль системы сайта. Она отображает отчеты, связанные с развертыванием клиентов и управлением ими. Дополнительные сведения см. в разделе [Общие сведения об отчетах](../../servers/manage/introduction-to-reporting.md).|  

### <a name="installation-method-dependencies"></a>Зависимости, связанные с конкретными методами установки  

Ниже перечислены необходимые условия, характерные для различных методов установки клиента.  

#### <a name="client-push-installation"></a>Принудительная установка клиента  

- Сайт использует учетные записи для принудительной установки клиента с целью подключения к компьютерам для установки клиента. Укажите эти учетные записи на вкладке **Учетные записи** диалогового окна "Свойства принудительной установки клиента". Учетная запись принудительной установки клиента должна быть членом локальной группы администраторов на конечном компьютере.  

    Если не указать учетную запись для принудительной установки клиента, для сервера сайта будет использоваться учетная запись компьютера.  

- Сайту необходимо обнаружить компьютер, на котором устанавливается клиент. Требуется по крайней мере один метод обнаружения Configuration Manager.  

- Компьютер имеет общий ресурс ADMIN$.  

- Чтобы автоматически выполнить принудительную установку клиента Configuration Manager в обнаруженных ресурсах, в диалоговом окне "Свойства принудительной установки клиента" выберите параметр **Включить принудительную установку клиента для назначенных ресурсов**.  

- Клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления для скачивания исходных файлов.  

- Если требуется взаимная проверка подлинности Kerberos, клиенты должны находиться в доверенном лесу Active Directory. Kerberos в Windows использует Active Directory для взаимной проверки подлинности.<!--1358204-->  

Для принудительной установки клиентов требуются указанные ниже разрешения безопасности.  

- Чтобы настроить учетную запись принудительной установки клиентов: разрешения **Изменить** и **Чтение** для объекта **Сайт**.  

- Чтобы установить клиент в коллекциях, на устройствах и в запросах путем принудительной установки: разрешения **Изменить ресурс** и **Чтение** для объекта **Коллекция**.  

Роль безопасности по умолчанию **Администратор инфраструктуры** включает разрешения, необходимые для управления принудительной установкой клиента.  

#### <a name="software-update-point-based-installation"></a>Установка через точку обновления программного обеспечения  

- Если схема Active Directory не расширена или если клиенты устанавливаются из другого леса, укажите параметры установки для файла CCMSetup.exe с помощью групповой политики. Дополнительные сведения см. в статье [Настройка свойств установки клиента](deploy-clients-to-windows-computers.md#BKMK_Provision).  

- Опубликуйте клиент Configuration Manager в точке обновления программного обеспечения.  

- Для скачивания исходных файлов клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления.  

Сведения о разрешениях безопасности, необходимых для управления обновлениями программного обеспечения Configuration Manager, см. в статье [Необходимые условия для обновлений программного обеспечения](../../../sum/plan-design/prerequisites-for-software-updates.md).  

#### <a name="group-policy-based-installation"></a>Установка с использованием групповой политики  

- Если схема Active Directory не расширена или если клиенты устанавливаются из другого леса, укажите параметры установки для файла CCMSetup.exe с помощью групповой политики. Дополнительные сведения см. в статье [Настройка свойств установки клиента](deploy-clients-to-windows-computers.md#BKMK_Provision).  

- Для скачивания исходных файлов клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления.  

#### <a name="logon-script-based-installation"></a>Установка с использованием сценария входа  

Для скачивания исходных файлов клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления. Это поведение не применяется, если CCMSetup.exe был запущен со следующим параметром командной строки: `ccmsetup /source`  

#### <a name="manual-installation"></a>Установка вручную  

Для скачивания исходных файлов клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления. Это поведение не применяется, если CCMSetup.exe был запущен со следующим параметром командной строки: `ccmsetup /source`  

#### <a name="microsoft-intune-mdm-installation"></a>Установка Microsoft Intune MDM

- Требуется подписка Microsoft Intune и соответствующие лицензии.  

- Устройство должно быть подключено к Интернету, даже если обычно оно не подключено к нему.  

- В зависимости от варианта использования может потребоваться использование одной или обеих следующих технологий:  

    - Azure Active Directory  

    - Шлюз управления облаком  

#### <a name="workgroup-computer-installation"></a>Установка компьютера рабочей группы  

Чтобы получить доступ к ресурсам в домене сервера сайта Configuration Manager, настройте для этого сайта учетную запись доступа к сети.  

Дополнительные сведения о настройке учетной записи доступа к сети см. в разделе [Основные принципы управления содержимым](../../plan-design/hierarchy/fundamental-concepts-for-content-management.md).  

#### <a name="software-distribution-based-installation-for-upgrades-only"></a>Установка посредством распространения программного обеспечения (только для обновлений)  

- Если схема Active Directory не расширена или если клиенты устанавливаются из другого леса, укажите параметры установки для файла CCMSetup.exe с помощью групповой политики. Дополнительные сведения см. в статье [Настройка свойств установки клиента](deploy-clients-to-windows-computers.md#BKMK_Provision).

- Для скачивания исходных файлов клиентский компьютер должен иметь возможность установить связь с точкой распространения или точкой управления.  

Сведения о разрешениях безопасности, необходимых для обновления клиента Configuration Manager с помощью компонента управления приложениями, см. в разделе [Безопасность и конфиденциальность управления приложениями](../../../apps/plan-design/security-and-privacy-for-application-management.md).  

#### <a name="automatic-client-upgrades"></a>Автоматическое обновление клиента  

Чтобы настраивать автоматическое обновление клиента, необходимо быть участником роли безопасности **Полный администратор** .  

### <a name="firewall-requirements"></a>Требования к брандмауэру  

Если между серверами системы сайта и компьютерами, на которые устанавливается клиент Configuration Manager, есть брандмауэр, см. раздел [Параметры брандмауэра Windows и портов для клиентов](windows-firewall-and-port-settings-for-clients.md).  


## <a name="prerequisites-for-mobile-device-clients"></a><a name="BKMK_prereqs_mobiledevices"></a> Необходимые условия для клиентов на мобильных устройствах  

При установке клиента Configuration Manager на мобильных устройствах и их регистрации используйте следующие сведения для определения необходимых условий.  

### <a name="dependencies-external-to-configuration-manager"></a>Внешние зависимости Configuration Manager

- Для установки сертификатов, необходимых для мобильных устройств, а также управления этими сертификатами необходим центр сертификации предприятия Майкрософт (ЦС) с шаблонами сертификатов.  

    ЦС, выдающий сертификат, должен автоматически утверждать запросы сертификатов от пользователей мобильных устройств во время регистрации.  

    Дополнительные сведения о требованиях к сертификатам см. в статье [Безопасность и конфиденциальность профилей сертификатов](../../../protect/plan-design/security-and-privacy-for-certificate-profiles.md).  

- Группа безопасности с пользователями, которые могут регистрировать свои мобильные устройства.  

    Эта группа безопасности используется для настройки шаблона сертификата, используемого во время регистрации мобильных устройств.  

- Необязательно, но рекомендуется использовать псевдоним DNS (запись CNAME) с именем **ConfigMgrEnroll**. Настройте этот псевдоним для имени сервера прокси-точки регистрации.  

    Этот псевдоним DNS необходим для поддержки автоматического обнаружения службы регистрации. Если не настроить эту запись DNS, то пользователи должны будут вручную указать имя прокси-точки регистрации во время регистрации.  

- Зависимости ролей систем сайта для компьютеров, на которых выполняются роли системы сайта "точка регистрации" и "прокси-точка регистрации".  

    Дополнительные сведения см. в статье [Поддерживаемые операционные системы для серверов системы сайта](../../plan-design/configs/supported-operating-systems-for-site-system-servers.md).  

### <a name="configuration-manager-dependencies"></a>Зависимости Configuration Manager

Дополнительные сведения см. в разделе [Определение ролей систем сайта для клиентов](plan/determine-the-site-system-roles-for-clients.md).  

- Точка управления, настроенная для подключений клиентов по протоколу HTTPS и поддерживающая мобильные устройства  

    При установке клиента Configuration Manager на мобильных устройствах всегда требуется точка управления. Помимо требований к настройке HTTPS и поддержки мобильных устройств, для точки управления необходимо настроить полное доменное имя в Интернете, и она должна принимать подключения из Интернета.  

- Точка регистрации и прокси-точка регистрации  

    Прокси-точка регистрации управляет запросами регистрации от мобильных устройств, а точка регистрации выполняет процесс регистрации. Точка регистрации должна находиться в том лесу Active Directory, в котором расположен сервер сайта, а прокси-точка регистрации может находиться в другом лесу.  

- Параметры клиента для регистрации мобильного устройства  

    Настройте параметры клиента так, чтобы разрешить пользователям регистрировать мобильные устройства, и создайте как минимум один профиль регистрации.  

- Точка служб отчетов  

    Точка служб отчетов не является обязательной. Тем не менее, рекомендуется использовать эту роль системы сайта для отображения отчетов, связанных с регистрацией мобильных устройств и управлением клиентом.  

    Дополнительные сведения см. в разделе [Общие сведения об отчетах](../../servers/manage/introduction-to-reporting.md).  

- Чтобы настроить регистрацию мобильных устройств, необходимо иметь следующие разрешения безопасности.  

    - Для добавления, изменения и удаления ролей систем сайта, связанных с регистрацией: разрешение **Изменить** для объекта **Сайт**.  

    - Для настройки параметров клиента, связанных с регистрацией: Для параметров клиента, используемых по умолчанию, требуется разрешение **Изменить** для объекта **Сайт**, а для настраиваемых параметров — разрешения **Агент клиента**.  

    Роль безопасности по умолчанию **Полный администратор** имеет необходимые разрешения для настройки ролей системы сайта, связанных с регистрацией.  

- Для управления зарегистрированными мобильными устройствами необходимо иметь следующие разрешения безопасности.  

    - Для снятия с учета или очистки мобильного устройства: **Удалить ресурс** для объекта **Коллекции**.  

    - Для отмены команды снятия с учета или очистки: **Удалить ресурс** для объекта **Коллекции**.  

    - Для разрешения и блокировки мобильных устройств: **Изменить ресурс** для объекта **Коллекция**.  

    - Для удаленной блокировки или сброса секретного кода на мобильном устройстве: **Изменить** ресурс для объекта **Коллекция**.  

    Роль безопасности по умолчанию **Администратор операций** имеет разрешения, необходимые для управления мобильными устройствами.  

    Дополнительные сведения о настройке разрешений безопасности см. в разделах [Основы ролевого администрирования](../../understand/fundamentals-of-role-based-administration.md) и [Настройка ролевого администрирования](../../servers/deploy/configure/configure-role-based-administration.md).  

### <a name="firewall-requirements"></a>Требования к брандмауэру

Промежуточные сетевые устройства, такие как маршрутизаторы и брандмауэры, а также брандмауэр Windows (если имеется), должны пропускать сетевой трафик, связанный с регистрацией мобильных устройств.  

- Между мобильными устройствами и прокси-точкой регистрации: HTTPS (TCP-порт по умолчанию: 443)  

- Между прокси-точкой регистрации и точкой регистрации: HTTPS (TCP-порт по умолчанию: 443)  

Если используется сервер веб-прокси, на нем необходимо настроить туннелирование SSL. Мосты SSL не поддерживаются для мобильных устройств.  
