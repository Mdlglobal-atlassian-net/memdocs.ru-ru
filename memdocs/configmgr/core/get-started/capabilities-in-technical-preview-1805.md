---
title: Technical Preview 1805
titleSuffix: Configuration Manager
description: Сведения о новых возможностях, доступных в версии Technical Preview 1805 для Configuration Manager.
ms.date: 05/21/2018
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 7996b3eb-5259-483b-af40-adae2943d123
author: aczechowski
ms.author: aaroncz
manager: dougeby
ROBOTS: NOINDEX
ms.openlocfilehash: 88234bb3117850bc3280242671ae459308a5262e
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81696032"
---
# <a name="capabilities-in-technical-preview-1805-for-configuration-manager"></a>Возможности в Technical Preview 1805 для Configuration Manager

*Область применения: Configuration Manager (ветвь Technical Preview)*

Эта статья содержит сведения о функциях, доступных в версии Technical Preview 1805 для Configuration Manager. Эту версию можно установить для обновления и добавления новых возможностей в версию Technical Preview сайта. 

Перед установкой этого обновления ознакомьтесь со статьей, посвященной версии [Technical Preview](technical-preview.md). Там приведены общие требования и ограничения на использование ознакомительной технической версии, а также сведения о том, как выполнять обновления и оставлять отзывы.     


<!--  Known Issues Template
## Known Issues in this Technical Preview

### <a name="bkmk_ANCHOR"></a> Known issue title
<!--bugID--
Issue description and cause.

#### Workaround
Steps to workaround, if any.  
-->



</br>

**Ниже перечислены новые возможности, доступные в этой версии.**  



## <a name="create-a-phased-deployment-with-manually-configured-phases-for-a-task-sequence"></a>Создание поэтапного развертывания с использованием настраиваемых вручную этапов для последовательности задач
<!--1358148-->
Теперь вы можете [создавать поэтапное развертывание](../../osd/deploy-use/create-phased-deployment-for-task-sequence.md) с использованием настраиваемых вручную этапов для последовательности задач. Можно добавить до 10 этапов на вкладке **Этапы** в мастере создания поэтапного развертывания. 


### <a name="try-it-out"></a>Попробуйте!
Следуя инструкциям, создайте поэтапное развертывание, для которого нужно настроить все этапы вручную. Отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате. 

1. В рабочей области **Библиотека программного обеспечения** разверните узел **Операционные системы** и выберите элемент **Последовательности задач**.  

2. Щелкните правой кнопкой мыши существующую последовательность задач и выберите пункт **Create Phased Deployment** (Создать поэтапное развертывание).  

3. На вкладке **Общие** присвойте поэтапному развертыванию имя, описание (необязательно) и выберите **Настроить все этапы вручную**.  

4. На вкладке **Этапы** щелкните **Добавить**.  

5. Укажите **имя** этапа, а затем перейдите к целевой **коллекции этапов**.  

6. На вкладке **Параметры этапа** выберите значения для всех параметров планирования, а затем нажмите кнопку **Далее**.  

    - Условия успешного завершения предыдущего этапа (этот параметр отключен для первого этапа)
        - **Процент успешных развертываний**: укажите процент устройств с успешным развертыванием в качестве критерия успешного завершения предыдущего этапа.  

    - Условия начала этого этапа развертывания после успешного завершения предыдущего этапа  
        - **Автоматически начать этот этап после периода отсрочки (в днях)** : выберите число дней до начала следующего этапа после успешного завершения предыдущего этапа. 
        - **Начать этот этап развертывания вручную**: не начинать этот этап автоматически после успешного завершения предыдущего этапа.  

    - Определив целевое устройство, установите программное обеспечение
        - **Как можно скорее**. задает крайний срок для установки на устройстве — как только устройство будет выбрано в качестве целевого.
        - **Крайний срок (относительно времени устройства, выбранного целевым)** : задает крайний срок для установки определенного числа дней после выбора устройства в качестве целевого.  
     
7. Завершите работу мастера настройки этапов.

8. Теперь на вкладке **Этапы** мастера создания поэтапного развертывания вы можете добавлять, удалять, изменять этапы или менять их порядок для этого развертывания.  

9. Завершите работу мастера создания поэтапного развертывания.  



## <a name="cloud-distribution-point-support-for-azure-resource-manager"></a>Поддержка облачных точек распространения для Azure Resource Manager
<!--1322209-->
Теперь при создании экземпляра [облачной точки распространения](../servers/deploy/configure/install-cloud-based-distribution-points-in-microsoft-azure.md) мастер позволяет создать **развертывание Azure Resource Manager**. [Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview) — это современная платформа для управления всеми ресурсами решения в качестве одной сущности, называемой [группой ресурсов](/azure/azure-resource-manager/resource-group-overview#resource-groups). При развертывании облачной точки распространения с помощью Azure Resource Manager веб-сайт использует Azure Active Directory для аутентификации и создания необходимых облачных ресурсов. Этому модернизированному развертыванию не требуется классический сертификат управления Azure.  

Мастер облачной точки распространения по-прежнему поддерживает **классическое развертывание службы** с помощью сертификата управления Azure. Чтобы упростить развертывание и администрирование ресурсов, рекомендуется использовать модель развертывания с помощью Azure Resource Manager для всех новых облачных точек распространения. Если это возможно, повторно разверните существующие облачные точки распространения с помощью Resource Manager.

Configuration Manager не переносит существующие классические облачные точки распространения в модель развертывания с помощью Azure Resource Manager. Создайте облачные точки распространения с помощью развертываний Azure Resource Manager, а затем удалите классические облачные точки распространения. 

> [!IMPORTANT]  
> Эта возможность не включает поддержку поставщика облачных служб Azure (CSP). Для развертывания облачной точки распространения с помощью Azure Resource Manager по-прежнему используется классическая облачная служба, которая не поддерживается CSP. Дополнительные сведения см. в статье о [доступных службах Azure в Azure CSP](/azure/cloud-solution-provider/overview/azure-csp-available-services).  


### <a name="prerequisites"></a>Предварительные условия  
- Интеграция с [Azure AD](../clients/deploy/deploy-clients-cmg-azure.md). Обнаружение пользователей Azure AD не требуется.  

- Те же [требования к облачной точки распространения](../plan-design/hierarchy/use-a-cloud-based-distribution-point.md#bkmk_requirements), за исключением сертификата управления Azure.  


### <a name="try-it-out"></a>Попробуйте!  
 Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В рабочей области **Администрирование** консоли Configuration Manager разверните узел **Облачные службы** и щелкните **Облачные точки распространения**. На ленте щелкните **Создать облачную точку распространения**.   

2. На странице **Общее** выберите **Развертывание с помощью Azure Resource Manager**. Щелкните **Войти**, чтобы выполнить проверку подлинности с учетной записью администратора подписки Azure. Мастер автоматически заполняет оставшиеся поля информацией из подписки Azure AD, хранящейся в качестве предварительных требований интеграции. Если вы владеете несколькими подписками, выберите нужную. Нажмите кнопку **Далее**.  

3. На странице **Параметры** предоставьте **файл сертификата** (PKI) сервера в обычном режиме. Этот сертификат определяет используемое в Azure **доменное имя службы** для облачной точки распространения. Выберите **Регион**, а затем выберите вариант, чтобы **создать** или **использовать** группу ресурсов. Введите имя группы ресурсов или выберите имеющуюся группу ресурсов из раскрывающегося списка.  

4. Завершите работу мастера.  

> [!NOTE]  
> Для выбранного серверного приложения Azure AD присваивается разрешение **участника**.  

Отслеживайте ход развертывания службы с помощью **cloudmgr.log** в точке подключения к службе.



## <a name="take-actions-based-on-management-insights"></a>Выполнение действий на основе аналитики управления
<!--1357930-->
Теперь вы можете предпринимать действия на основе некоторых данных [аналитики управления](../servers/manage/management-insights.md). В зависимости от правила, действие реализует такое поведение:  

- Автоматический переход на узел в консоли, где можно предпринять дальнейшее действие. Например, если согласно данным аналитики управления рекомендуется изменить параметры клиента, при выполнении действия вы перейдете на узел параметров клиента. Вы можете предпринять следующее действие, изменив стандартный или пользовательский объект параметров клиента.  

- Переход к отфильтрованному представлению на основе запроса. Например, если предпринять действие для правила пустых коллекций, в списке отобразятся только эти коллекции. На этом этапе вы можете выполнить следующее действие, например удалить коллекцию или изменить правила членства в коллекции.  

В этом выпуске можно предпринимать действия на основе следующих правил аналитики управления:
- Безопасность
    - Неподдерживаемые версии клиентов антивредоносных программ.
- Центр программного обеспечения
    - Использование новой версии центра программного обеспечения
- Приложения
    - Приложения без развертываний
- Упрощенное управление
    - Версии клиентов, отличные от Current Branch.
- Коллекции
    - Пустые коллекции 
- Облачные службы
    - Обновить клиенты до последней версии Windows 10.



## <a name="transition-device-configuration-workload-to-intune-using-co-management"></a>Перенос рабочей нагрузки конфигурации устройства в Intune с помощью совместного управления
<!--1357903-->

Теперь можно перенести рабочую нагрузку конфигурации устройства из Configuration Manager в Intune, включив совместное управление. Благодаря такому переносу вы можете развертывать политики MDM с помощью Intune, продолжая использовать Configuration Manager для развертывания приложений. 

Чтобы перенести эту рабочую нагрузку, на странице свойств совместного управления переместите ползунок с "Configuration Manager" на **Пилотный проект** или **Все**. Дополнительные сведения см. в статье [Совместное управление для устройств Windows 10](../../comanage/overview.md).

> [!Note]  
> При переносе этой рабочей нагрузки также переносятся рабочие нагрузки **Доступ к ресурсам** и **Endpoint Protection**, которые входят в рабочую нагрузку конфигурации устройства.

Хотя Intune является центром конфигурации устройства, после переноса этой рабочей нагрузки вы по-прежнему сможете развертывать параметры в совместно управляемые устройства из диспетчера конфигурации. Такое исключение допускается для настройки необходимых корпоративных параметров, которые еще не доступны в Intune. Укажите это исключение в конфигурационной базе Configuration Manager. Включите параметр **Всегда применять эти базовые показатели даже для совместно управляемых клиентов** при создании базы или на вкладке **Общие** для свойств существующей базы. 



## <a name="enable-distribution-points-to-use-network-congestion-control"></a>Включение точки распространения для регулировки перегрузки сети
<!--1358112-->

LEDBAT (Windows Low Extra Delay Background Transport) — это компонент Windows Server, который позволяет управлять фоновыми передачами данных по сети. Для точек распространения под управлением поддерживаемых версий Windows Server можно включить параметр, который помогает регулировать сетевой трафик. Так клиенты будут использовать пропускную способность сети, только если она доступна. 

Дополнительные сведения о Windows LEDBAT см. в записи блога об [улучшениях транспортировки](https://blogs.technet.microsoft.com/networking/2016/07/18/announcing-new-transport-advancements-in-the-anniversary-update-for-windows-10-and-windows-server-2016/).


### <a name="prerequisites"></a>Предварительные условия
- Точка распространения в Windows Server (версия 1709).  

- Предварительные требования для клиентов отсутствуют.<!--SCCMDocs issue 699-->  


### <a name="try-it-out"></a>Попробуйте!
 Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В консоли Configuration Manager перейдите к рабочей области **Администрирование**. Выберите узел **Точки распространения**. Выберите целевую точку распространения и щелкните **Свойства** на ленте.  

2. На вкладке **Общие** включите параметр **Изменить скорость скачивания, чтобы занять неиспользуемую пропускную способность сети (Windows LEDBAT)** .  



## <a name="cloud-management-dashboard"></a>Панель мониторинга управления облаком
<!--1358461-->
Новая **панель мониторинга управления облаком** — это централизованное представление, позволяющее оценить использование шлюза управления облачными клиентами (CMG). Если сайт подключен к Azure AD, на этой панели также отображаются сведения об облачных устройствах и пользователях облака.  

На следующем снимке экрана представлен фрагмент панели мониторинга управления облаком с двумя доступными плитками:  
![Плитки "Текущие клиенты в сети" и "Трафик шлюза управления облачными клиентами (за последние 30 дней)" на панели мониторинга управления облаком](media/1358461-cmg-dashboard.png)

Эта панель мониторинга также включает **анализатор подключения к шлюзу CMG** для проверок в режиме реального времени, что упрощает устранение неполадок. Встроенная в консоль служебная программа проверяет текущее состояние службы и коммуникационный канал между точкой подключения CMG и точками управления, которые пропускают трафик CMG.


### <a name="prerequisites"></a>Предварительные условия
- Активный [облачный шлюз управления](../clients/manage/cmg/plan-cloud-management-gateway.md), используемый интернет-клиентами.  

- Сайт, подключенный к [службам Azure](../servers/deploy/configure/azure-services-wizard.md), для управления облаком.  


### <a name="try-it-out"></a>Попробуйте!
Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

#### <a name="cloud-management-dashboard"></a>Панель мониторинга управления облаком

В консоли Configuration Manager перейдите в рабочую область **Мониторинг**. Выберите узел **Управление облачными клиентами** и просмотрите плитки на панели мониторинга.  

#### <a name="cmg-connection-analyzer"></a>Анализатор подключения шлюза CMG

1. В консоли Configuration Manager перейдите к рабочей области **Администрирование**. Разверните узел **Облачные службы** и выберите **Шлюз управления облаком**.  

2. Выберите целевой экземпляр CMG, а затем щелкните **Анализатор подключения** на ленте.  

3. В окне анализатора подключений CMG выберите один из следующих вариантов аутентификации в службе:  

     1. **Пользователь Azure AD**. Используйте этот параметр, чтобы имитировать подключение, как при входе на устройство с Windows 10, присоединенное к AD, с использованием удостоверения пользователя облака. Нажмите кнопку **Войти**, чтобы ввести учетные данные для этой учетной записи пользователя Azure AD.  

     2. **Сертификат клиента**. Используйте этот параметр, чтобы имитировать подключение к клиенту Configuration Manager с использованием [сертификата проверки подлинности клиента](../clients/manage/cmg/certificates-for-cloud-management-gateway.md#bkmk_clientauth).  

4. Нажмите кнопку **Начать**, чтобы начать анализ. Результаты отобразятся в окне анализатора. Выберите запись, чтобы просмотреть дополнительные сведения в поле описания.  



## <a name="cmpivot"></a>CMPivot
<!--1358456-->
В Configuration Manager всегда предоставлялось большое централизованное хранилище данных устройств, которые клиенты использовали для создания отчетов. Но для этих целей нужны только последние данные, полученные от клиентов. 

CMPivot — это новая служебная программа в консоли, которая предоставляет доступ к состоянию устройств в вашей среде в режиме реального времени. Она отправляет запрос сразу на все подключенные устройства в целевой коллекции и возвращает результаты. Вы можете отфильтровать и сгруппировать эти данные в средстве. Благодаря тому, что данные от клиентов в сети предоставляются в реальном времени, вы можете быстрее удовлетворять бизнес-требования, устранять неполадки и реагировать на угрозы безопасности.

Например, одним из требований для [устранения рисков при уязвимостях упреждающего исполнения по сторонним каналам](https://techcommunity.microsoft.com/t5/configuration-manager-blog/additional-guidance-to-mitigate-speculative-execution-side/ba-p/274974) является обновление системы BIOS. С помощью CMPivot можно быстро запросить данные о системе BIOS и найти клиентов, которые не соответствуют требованиям. 

На снимке экрана CMPivot ниже показаны две отдельные версии BIOS и число устройств для каждой из них. При пробном использовании CMPivot вы можете применить следующий пример запроса:  
`Registry('hklm:\\Hardware\\Description\\System\\BIOS') | where (Property == 'BIOSVersion') | summarize dcount( Device ) by Value`  

![Окно CMPivot с примером запроса версии BIOS](media/1358456-cmpivot-biosversion.png)

Вы можете щелкнуть счетчик устройств, чтобы отобразить определенные устройства. Когда в CMPivot отобразятся имена устройств, щелкните правой кнопкой мыши одно из них и выберите такие [действия уведомления клиента](../clients/manage/manage-clients.md#BKMK_ManagingClients_DevicesNode):
- Запуск скрипта
- Удаленное управление
- Обозреватель ресурсов

Также, если щелкнуть имя определенного устройства правой кнопкой мыши, можно создать представление по одному из следующих атрибутов:
- команды автозапуска;
- установленные продукты;
- Процессы
- Службы
- Пользователи
- активные подключения;
- отсутствующие обновления.

### <a name="prerequisites"></a>Предварительные условия
- Целевые клиенты нужно обновить до последней версии.  

- Администратору Configuration Manager требуются разрешения на запуск скриптов. Дополнительные сведения см. в разделе [Создание ролей безопасности для сценариев](../../apps/deploy-use/create-deploy-scripts.md#bkmk_ScriptRoles).  

### <a name="try-it-out"></a>Попробуйте!
Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В консоли Configuration Manager перейдите в рабочую область **Активы и соответствие** и выберите **Коллекции устройств**. Выберите целевую коллекцию и щелкните **Запустить CMPivot** на ленте, чтобы запустить средство.  

2. Дополнительные сведения по использованию средства предоставляются в интерфейсе. 
     - Вы можете вручную вводить строки запросов в верхней части окна или переходить по ссылкам во строенной документации.
     - Выберите одну из **сущностей**, чтобы добавить ее в строку запроса. 
     - Если щелкнуть ссылки **операторов таблиц**, **статистических функций** и **скалярных функций**, в веб-браузере откроется справочная документация по языку запросов. В CMPivot используется тот же язык запросов, что и в [Azure Log Analytics](https://docs.microsoft.com/azure/kusto/query/).



## <a name="improved-secure-client-communications"></a>Улучшение обмена данными с защищенными клиентами
<!--1356889,1358228,1358460-->
Подключение по протоколу HTTPS рекомендуется использовать для всех путей обмена данными Configuration Manager, но это может оказаться сложной задачей для некоторых клиентов из-за дополнительных расходов на управление сертификатами PKI. Интеграция с Azure Active Directory (Azure AD) устраняет некоторые, но не все требования к сертификатам. 

Этот выпуск включает улучшения обмена данными между клиентами и системами сайтов. Основные цели этих улучшений две:  

- вы можете защитить обмен данными с клиентами без использования PKI-сертификатов проверки подлинности сервера;  

- клиенты могут получать безопасный доступ к содержимому из точек распространения, не используя учетную запись доступа к сети.  

> [!Note]  
> Сертификаты PKI по-прежнему доступны для клиентов, которые предпочитают использовать этот вариант.  


### <a name="scenarios"></a><a name="bkmk_token"></a> Сценарии
Эти улучшения будут особо полезны в описанных ниже сценариях.  

#### <a name="scenario-1-client-to-management-point"></a><a name="bkmk_token1"></a> Сценарий 1. Клиент для точки управления
<!--1356889-->
[Присоединенные к Azure AD устройства](/azure/active-directory/devices/concept-azure-ad-join) могут обмениваться данными с точкой управления, настроенной для протокола HTTP, через шлюз CMG. На сервере сайта создается сертификат для точки управления, что позволяет ей обмениваться данными по защищенному каналу.   

> [!Note]  
> Мы изменили это поведение в Configuration Manager, начиная с версии Current Branch 1802. Для этого сценария требовалась точка управления, настроенная для протокола HTTP. Дополнительные сведения см. в статье [Включение точки управления для HTTPS](../clients/manage/cmg/certificates-for-cloud-management-gateway.md#bkmk_mphttps).  

#### <a name="scenario-2-client-to-distribution-point"></a><a name="bkmk_token2"></a> Сценарий 2. Клиент для точки распространения
<!--1358228-->
Рабочая группа или клиент, присоединенный к Azure AD, могут по защищенному каналу скачать содержимое из точки распространения, настроенной для протокола HTTP.   

#### <a name="scenario-3-azure-ad-device-identity"></a><a name="bkmk_token3"></a> Сценарий 3. Удостоверение устройства Azure AD 
<!--1358460-->
Устройство, присоединенное к Azure AD, или [гибридное устройство Azure AD](/azure/active-directory/devices/concept-azure-ad-join-hybrid) может обмениваться данными с назначенным сайтом в безопасном режиме. При этом не требуется, чтобы пользователь выполнял вход на устройство. Теперь удостоверения облачного устройства достаточно для аутентификации с использованием точки управления и CMG.  


### <a name="prerequisites"></a>Предварительные условия  

- Точка управления, настроенная для клиентских подключений по протоколу HTTP. Установите этот параметр на вкладке **Общие** в свойствах роли системы сайта.  

- Точка распространения, настроенная для клиентских подключений по протоколу HTTP. Установите этот параметр на вкладке **Общие** в свойствах роли системы сайта. Не устанавливайте флажок **Разрешить клиентам анонимное подключение**.  

- Шлюз управления облачными клиентами.  

- Интеграция сайта с Azure AD для управление облаком.  

    - Если это предварительное требование уже выполнено для вашего сайта, обновите приложение Azure AD. В консоли Configuration Manager перейдите в рабочую область **Администрирование**, разверните узел **Облачные службы** и выберите **Клиенты Azure Active Directory**. Выберите клиент Azure AD, укажите веб-приложение в области **приложений**, а затем щелкните **Обновить параметры приложения** на ленте.  

- Клиент с Windows 10 (версия 1803), присоединенный к Azure AD. (Это требование фактически касается только [сценария 3](#bkmk_token3).) 


### <a name="try-it-out"></a>Попробуйте!
Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В консоли Configuration Manager перейдите в рабочую область **Администрирование**, разверните узел **Конфигурация сайта** и выберите **Сайты**. Выберите сайт и щелкните **Свойства** на ленте.  

2. Перейдите на вкладку **Взаимодействие с клиентскими компьютерами**. Выберите параметр **HTTPS или HTTP**, а затем включите новый параметр **Использовать сертификаты, созданные с помощью Configuration Manager, для систем сайтов HTTP**.  

Для проверки используйте приведенный выше [список сценариев](#bkmk_token).

> [!Tip]
> В этом выпуске получение и настройка нового сертификата для точки управления может занять до 30 минут.

Эти сертификаты отобразятся в консоли Configuration Manager. Перейдите в рабочую область **Администрирование**, разверните узел **Безопасность** и выберите узел **Сертификаты**. Найдите корневой сертификат для **отправки SMS** и сертификаты роли сервера сайта, выданные корневым центром сертификации для отправки SMS.


### <a name="known-issues"></a>Известные проблемы
- Пользователь не может просмотреть доступные ему приложения в центре программного обеспечения.  

- Для сценариев развертывания операционной системы по-прежнему требуется учетная запись сетевого доступа.  

- Если быстро и часто включать и отключать параметр **Использовать сертификаты, созданные с помощью Configuration Manager, для систем сайтов HTTP**, это может привести к неправильной привязке сертификата к ролям системы сайта. Сертификаты, выданные центром сертификации для отправки SMS, невозможно привязать к веб-сайту в службах IIS Windows Server. Чтобы устранить эту проблему, удалите все сертификаты, выданные этим центром сертификации, из хранилища сертификатов **SMS** в Windows, а затем перезапустите службу smsexec.



## <a name="improvements-for-enabling-third-party-software-update-support"></a>Улучшения для включения поддержки обновлений стороннего программного обеспечения
<!--1357605-->
В ответ на отзывы [о поддержке обновления стороннего программного обеспечения](https://configurationmanager.uservoice.com/forums/300492-ideas/suggestions/8803711-3rd-party-patching-scup-integration-with-sccm-co), оставленные на сайте UserVoice, в этом выпуске мы продолжили реализовывать интеграцию с System Center Updates Publisher (SCUP). В Configuration Manager Technical Preview [версии 1803](capabilities-in-technical-preview-1803.md#enable-third-party-software-update-support-on-clients) была добавлена возможность чтения сертификата из служб WSUS для сторонних обновлений, а также развертывания этого сертификата для клиентов. Но чтобы создавать и администрировать сертификаты для подписи обновлений стороннего программного обеспечения, по-прежнему требовалось средство SCUP.

В этом выпуске вы можете включить для сайта Configuration Manager автоматическую настройку сертификатов. Чтобы создать сертификат для этой цели, сайт передает данные службам WSUS. После чего Configuration Manager продолжает развертывание сертификатов для клиентов. Такое улучшение избавляет от необходимости использовать средство SCUP для создания и администрирования сертификатов. 

Дополнительные сведения об общем использовании средства SCUP см. в статье [System Center Updates Publisher](../../sum/tools/updates-publisher.md).

### <a name="prerequisites"></a>Предварительные условия
- Включите и разверните параметр клиента **Разрешить обновления стороннего программного обеспечения** в группе **Обновления программного обеспечения**.
- Если службы WSUS находятся не на сервере точки обновления программного обеспечения, выполните одно из следующих действий на удаленном сервере WSUS:
    - включите службу удаленного реестра в Windows;  
    или
    - в разделе реестра `HKLM\Software\Microsoft\Update Services\Server\Setup` создайте параметр DWORD с именем **EnableSelfSignedCertificates** и значением `1`. 

### <a name="try-it-out"></a>Попробуйте!
Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В консоли Configuration Manager перейдите к рабочей области **Администрирование**. Разверните узлы **Конфигурация сайта** и выберите **Сайты**. Выберите сайт верхнего уровня, щелкните **Настройка компонентов сайта** на ленте и выберите **Точка обновления программного обеспечения**.  

2. Перейдите на вкладку **Сторонние обновления**. Выберите параметр **Разрешить обновления стороннего программного обеспечения**, а затем щелкните **Управлять сертификатом автоматически с помощью Configuration Manager**.

3. Выполните остальные инструкции стандартного рабочего процесса SCUP, чтобы импортировать каталог обновлений стороннего программного обеспечения, а затем развернуть обновления для клиентов.



## <a name="improvements-to-windows-10-in-place-upgrade-task-sequence"></a>Усовершенствования в последовательности задач обновления Windows 10 на месте
<!--1358500-->

Шаблон последовательности задач по умолчанию для обновления до Windows 10 на месте теперь включает другую группу с действиями, которые рекомендуется выполнить в случае сбоя процесса обновления. Эти действия упрощают устранение неполадок.

### <a name="new-groups-under-run-actions-on-failure"></a>Новые группы в разделе **Запуск действий при сбое**
- **Сбор данных журналов**: добавьте шаги в эту группу, чтобы собирать журналы от клиента. 
    - Обычно нужно скопировать файлы журналов в сетевую папку. Для установки этого подключения, используйте шаг [Подключить к сетевой папке](../../osd/understand/task-sequence-steps.md#BKMK_ConnectToNetworkFolder). 
    - Чтобы скопировать файлы, воспользуйтесь настраиваемым скриптом или служебной программой, выбрав шаг [Выполнить из командной строки](../../osd/understand/task-sequence-steps.md#BKMK_RunCommandLine) или [Запустить сценарий PowerShell](../../osd/understand/task-sequence-steps.md#BKMK_RunPowerShellScript).
    - Файлы, которые нужно собрать, могут содержать следующие журналы:  
         `%_SMSTSLogPath%\*.log`   
         `%SystemDrive%\$Windows.~BT\Sources\Panther\setupact.log`  
    - См. дополнительные сведения о [setupact.log и других журналах программы установки Windows](/windows/deployment/upgrade/log-files).
    - См. дополнительные сведения о [журналах клиента Configuration Manager](../plan-design/hierarchy/log-files.md#BKMK_ClientLogs).
    - Дополнительные сведения о _SMSTSLogPath других полезных переменных см. в статье [Встроенные переменные последовательности задач в System Center Configuration Manager](../../osd/understand/task-sequence-variables.md).

- **Запуск средств диагностики**: добавьте шаги в эту группу, чтобы запустить дополнительные средства диагностики. В этих средствах следует автоматизировать сбор дополнительных сведений из системы, выполняемый сразу после сбоя.
    - Одним из таких средств является Windows [SetupDiag](/windows/deployment/upgrade/setupdiag). Это автономное средство диагностики можно использовать, чтобы узнать причину сбоя при обновлении Windows 10.
         - В Configuration Manager [создайте пакет](../../apps/deploy-use/packages-and-programs.md#create-a-package-and-program) для этого средства.
         - Добавьте в эту группу шаг [Выполнить из командной строки](../../osd/understand/task-sequence-steps.md#BKMK_RunCommandLine) для последовательности задач. Используйте параметр **Пакет**, чтобы указать ссылку на это средство. Ниже представлен пример **командной строки**:  
             `SetupDiag.exe /Output:"%_SMSTSLogPath%\SetupDiagResults.log" /Mode:Online`



## <a name="cmtrace-installed-with-client"></a>Установка CMTrace с использованием клиента
<!--1357971-->

Теперь средство просмотра журналов CMTrace автоматически устанавливается вместе с клиентом Configuration Manager. Оно добавляется в каталог установки клиента. По умолчанию это каталог `%WinDir%\ccm\cmtrace.exe`.

> [!Note]  
> CMTrace *не* регистрируется в Windows автоматически для открытия файлов с расширением .log.



## <a name="improvement-to-the-configuration-manager-console"></a>Улучшения консоли Configuration Manager
<!--1358202-->
Мы внесли следующее улучшение в консоль Configuration Manager:

- В списках устройств в группе "Активы и соответствие" — "Устройства" теперь по умолчанию отображается имя текущего пользователя, вошедшего в систему. Значение максимально соответствует текущему [статусу клиента](../clients/manage/monitor-clients.md#bkmk_indStatus). Значение удаляется, когда пользователь выходит из системы. Если пользователь не вошел в систему, поле значения будем пустым. 

### <a name="known-issues"></a>Известные проблемы
Поле значения текущего пользователя, вошедшего в систему, остается пустым в узле "Устройства" или при просмотре списка устройств в узле "Коллекции устройств". Чтобы устранить эту проблему, скачайте этот [скрипт SQL](https://gallery.technet.microsoft.com/ConfigMgr-1805-BgbUpdateLiv-306ff46c). Запустите файл sp_BgbUpdateLiveData.sql на сервере базы данных сайта и перезапустите службы smsexec и sms_notification_server в точке управления.<!--514471-->



## <a name="improvements-to-console-feedback"></a>Улучшения отправки отзывов из консоли
<!--1357542-->
В этот выпуск включены следующие улучшения механизма отправки [отзывов](capabilities-in-technical-preview-1804.md#bkmk_feedback) в консоли Configuration Manager:  

- Теперь в диалоговом окне отзыва запоминаются такие ранее заданные настройки, как выбранные параметры и адрес электронной почты.  

- Теперь поддерживается отправка отзывов в автономном режиме. Сохраните свой отзыв из консоли, а затем отправьте его в корпорацию Майкрософт, используя систему с подключением к Интернету. Используйте новое средство отправки отзывов в автономном режиме, размещенное по адресу `cd.latest\SMSSETUP\Tools\UploadOfflineFeedback\UploadOfflineFeedback.exe`. Чтобы просмотреть доступные и необходимые параметры командной строки, запустите средство с использованием параметра `--help`. Подключенной к сети системе требуется доступ к **petrol.office.microsoft.com**.

### <a name="known-issues"></a>Известные проблемы
При использовании вариантов **Отправить смайлик** или **Отправить нахмуренный смайлик** из консоли на компьютере с подключением к Интернету, может появиться следующее сообщение: Error sending feedback (Ошибка при отправке отзыва). Если щелкнуть **Дополнительные сведения**, вы увидите следующий текст: `{"Message":""}`. Эта ошибка возникает из-за известной проблемы с ответами серверной системы обратной связи. Ошибку можно отклонить. Корпорация Майкрософт в любом случае получит ваш отзыв. (Если в подробных сведениях отображается другое сообщение, воспользуйтесь через некоторое время вариантом отправки отзыва в автономном режиме.)



## <a name="improvements-to-pxe-enabled-distribution-points"></a>Усовершенствования в точках распространения с поддержкой PXE
<!--1357580-->

Этот выпуск содержит следующие дополнительные улучшения при использовании параметра [**Включить сетевой ответчик PXE без служб развертывания Windows**](capabilities-in-technical-preview-1802.md#improvements-to-pxe-enabled-distribution-points) на точке распространения:  

- если этот параметр включен, правила брандмауэра Windows автоматически создаются на точке распространения;  
- улучшения ведения журналов компонентов.



## <a name="improvement-to-hardware-inventory-for-large-integer-values"></a>Улучшение инвентаризации оборудования для поддержки больших целых чисел
<!--1357880-->
В функции инвентаризации оборудования установлено ограничение для целых чисел — 4 294 967 296 (2^32). Это значение может быть достигнуто в таких атрибутах, как размер жесткого диска (в байтах). Точка управления не обрабатывает целочисленные значения, которые превышают это ограничение, поэтому значение не сохраняется в базе данных. В этом выпуске ограничение увеличено до 18 446 744 073 709 551 616 (2^64). 

Значения свойств, которые не меняются, например общий размер диска, могут не отобразится сразу после обновления сайта. Большинство результатов инвентаризации оборудования представляют собой отчет по изменениям. Клиент отправляет только значения, которые изменились. Чтобы устранить эту ошибку, добавьте еще одно свойство в тот же класс. Таким образом клиент обновит все измененные свойства в классе. 



## <a name="improvement-to-wsus-maintenance"></a>Улучшение обслуживания WSUS
<!--1357898-->

Теперь мастер очистки WSUS отклоняет обновления, срок действия которых истек или которые заменены в соответствии с правилами замены. Эти правила определены в свойствах компонента точки обновления программного обеспечения.

### <a name="try-it-out"></a>Попробуйте!
Попробуйте выполнить следующие задачи, Затем отправьте [отзыв](capabilities-in-technical-preview-1804.md#bkmk_feedback) с уведомлением о полученном результате.

1. В консоли Configuration Manager перейдите к рабочей области **Администрирование**. Разверните узлы **Конфигурация сайта** и выберите **Сайты**. Выберите сайт верхнего уровня, щелкните **Настройка компонентов сайта** на ленте и выберите **Точка обновления программного обеспечения**.  

2. Перейдите на вкладку **Правила замены**. Установите флажок **Запустить мастер очистки служб WSUS**. Укажите нужное поведение замены.  

3. Просмотрите файл WSyncMgr.log.



## <a name="improvement-to-support-for-cng-certificates"></a>Улучшена поддержка сертификатов CNG
<!--1357314-->
В этом выпуске, используйте [сертификаты CNG](../plan-design/network/cng-certificates-overview.md) в следующих дополнительных ролях сервера с поддержкой протокола HTTPS:  
- точка регистрации сертификатов, включая сервер NDES с модулем политики Configuration Manager.



## <a name="next-steps"></a>Дальнейшие шаги
Сведения об установке или обновлении ветви Technical Preview см. в статье [Technical Preview для Configuration Manager](technical-preview.md).    
