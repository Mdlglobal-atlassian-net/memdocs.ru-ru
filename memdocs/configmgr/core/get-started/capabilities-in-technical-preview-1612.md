---
title: Возможности технической версии 1612
titleSuffix: Configuration Manager
description: Сведения о функциях, доступных в Technical Preview для Configuration Manager, версия 1612.
ms.date: 01/23/2017
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: bceab2e8-2f05-4a17-9ac8-a7a558670fb7
author: aczechowski
ms.author: aaroncz
manager: dougeby
ROBOTS: NOINDEX
ms.openlocfilehash: 0c2464bfba05d640868af7d5c8be7c32c0999946
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81705412"
---
# <a name="capabilities-in-technical-preview-1612-for-configuration-manager"></a>Возможности в Technical Preview 1612 для Configuration Manager

*Область применения: Configuration Manager (ветвь Technical Preview)*



В этой статье содержатся сведения о функциях, доступных в версии 1612 Technical Preview для Configuration Manager. Этот выпуск можно установить для обновления и добавления новых возможностей в ознакомительную техническую версию сайта Configuration Manager. Перед установкой этой версии прочтите вводную статью [Technical Preview для Configuration Manager](../../core/get-started/technical-preview.md), чтобы ознакомиться с общими требованиями и ограничениями на использование ознакомительной технической версии, а также узнать, как выполнять обновления и оставлять отзывы о возможностях этого выпуска.    


**Ниже перечислены новые возможности, доступные в этой версии.**  

## <a name="the-data-warehouse-service-point"></a>Точка обслуживания хранилища данных
Начиная с версии Technical Preview 1612 точка обслуживания хранилища данных позволяет длительно хранить исторические данные для развертывания Configuration Manager и создавать на их основе отчеты. Это достигается путем автоматической синхронизации базы данных сайта Configuration Manager с базой данных хранилища данных. После этого данная информация доступна в точке служб отчетов.

По умолчанию при установке новой роли системы сайта Configuration Manager создает базу данных хранилища данных в указанном экземпляре SQL Server. Хранилище данных вмещает до 2 ТБ данных и поддерживает метки времени для отслеживания изменений.  По умолчанию из базы данных сайта синхронизируются такие группы данных, как "Глобальные данные", "Данные сайта", Global_Proxy, "Облачные данные" и "Представления базы данных". Вы можете изменить синхронизируемые данные, добавив дополнительные таблицы или исключив определенные таблицы из наборов репликации по умолчанию.
Данные, синхронизируемые по умолчанию, включают в себя следующие сведения:
- Работоспособность инфраструктуры
- Безопасность
- Соответствие требованиям
- Вредоносная программа   
- Развертывания программного обеспечения
- Сведения об инвентаризации (однако журнал инвентаризации не синхронизируется)

Помимо установки и настройки базы данных хранилища данных, устанавливаются несколько новых отчетов, позволяющих легко осуществлять поиск этих данных и просматривать их.

### <a name="data-warehouse-dataflow"></a>Поток данных хранилища данных   
![Datawarehouse_flow](./media/datawarehouse.png)

| Шаг         | Сведения  |
|:------:|-----------|  
| **1** | Сервер сайта передает и сохраняет данные в базе данных сайта.  |  
| **2** | В соответствии с расписанием и конфигурацией точка обслуживания хранилища данных получает данные из базы данных сайта.  |  
| **3** | Точка обслуживания хранилища данных передает и сохраняет копию синхронизированных данных в базе данных хранилища данных. |  
| **А** | С помощью встроенных отчетов выполняется запрос данных, который передается в точку служб отчетов посредством служб SQL Server Reporting Services. |  
| **Б** | Большинство отчетов служат для получения текущей информации, и соответствующие запросы выполняются к базе данных сайта. |  
| **В** | Когда отчет запрашивает исторические данные с помощью одного из отчетов с *категорией* **Хранилище данных**, запрос выполняется к базе данных хранилища данных.   |  

### <a name="prerequisites-for-the-data-warehouse-service-point-and-database"></a>Предварительные требования для точки обслуживания и базы данных хранилища данных
- В иерархии должна быть установлена роль системы сайта "Точка служб отчетов".
- На компьютере, на котором устанавливается эта роль системы сайта, требуется платформа .NET Framework 4.5.2 или более поздней версии.
- Учетная запись компьютера, на котором вы устанавливаете роль системы сайта, должна иметь разрешения локального администратора для компьютера, на котором будет размещаться база данных хранилища данных.
- Учетная запись администратора, используемая для установки роли системы сайта, должна быть владельцем базы данных для экземпляра SQL Server, в котором будет размещаться база данных хранилища данных.  
- База данных поддерживается:
  - с SQL Server 2012 или более поздней версии, выпуск Enterprise или Datacenter;
  - в экземпляре по умолчанию или именованном экземпляре;
  - в *кластере SQL Server*; хотя такая конфигурация должна работать, она не была протестирована, и поддержка предоставляется на максимальном возможном уровне;
  - при совместном размещении с базой данных сайта или базой данных точки служб отчетов. Однако мы рекомендуем производить установку на отдельном сервере.  
- Учетная запись, используемая в качестве *учетной записи точки служб отчетов*, должна иметь разрешение **db_datareader** на доступ к базе данных хранилища данных.  
- База данных не поддерживается в *группе доступности SQL Server AlwaysOn*.

### <a name="install-the-data-warehouse"></a>Установка хранилища данных
Роль системы сайта "Хранилище данных" устанавливается на сайте центра администрирования или первичном сайте с помощью **мастера добавления ролей системы сайта** или **мастера создания сервера системы сайта**. Дополнительные сведения см. в разделе [Установка ролей системы сайта](../servers/deploy/configure/install-site-system-roles.md). Иерархия поддерживает несколько экземпляров этой роли, но на каждом сайте поддерживается только один экземпляр.  

При установке роли Configuration Manager создает базу данных хранилища данных в указанном экземпляре SQL Server. Если указать имя существующей базы данных (что потребуется при [перемещении базы данных хранилища данных на новый сервер SQL Server](#move-the-data-warehouse-database)), Configuration Manager не создает новую базу данных, а использует указанную.

#### <a name="configurations-used-during-installation"></a>Конфигурации, используемые при установке
Чтобы завершить установку роли системы сайта, используйте приведенную ниже информацию.

Страница **Выбор системной роли**:  
Чтобы в мастере появился вариант выбора и установки точки обслуживания хранилища данных, необходимо предварительно установить точку служб отчетов.

Страница **Общие**: Требуются указанные ниже общие сведения.
- **Параметры базы данных Configuration Manager:**   
  - **Имя сервера**. Укажите полное доменное имя сервера, на котором находится база данных сайта. Если не используется экземпляр SQL Server по умолчанию, необходимо указать экземпляр после полного доменного имени в следующем формате: ***&lt;Sqlserver_FQDN>\&lt;имя_экземпляра>***.
  - **Имя базы данных**. Укажите имя базы данных сайта.
  - **Проверить**. Нажмите **Проверить**, чтобы убедиться в том, что подключение к базе данных сайта устанавливается успешно.
</br></br>
- **Параметры базы данных хранилища данных:**
  - **Имя сервера**. Укажите полное доменное имя сервера, на котором находятся точка обслуживания и база данных хранилища данных. Если не используется экземпляр SQL Server по умолчанию, необходимо указать экземпляр после полного доменного имени в следующем формате: ***&lt;Sqlserver_FQDN>\&lt;имя_экземпляра>***.
  - **Имя базы данных**. Укажите полное доменное имя базы данных хранилища данных.  Configuration Manager создаст базу данных с этим именем. Если указать имя базы данных, которая уже существует в экземпляре SQL Server, Configuration Manager будет использовать эту базу данных.
  - **Проверить**. Нажмите **Проверить**, чтобы убедиться в том, что подключение к базе данных сайта устанавливается успешно.

Страница **Параметры синхронизации**:   
- **Параметры данных:**
  - **Синхронизируемые группы репликации**. Выберите группы данных, которые необходимо синхронизировать. Сведения о различных типах групп данных см. в подразделах [Репликация базы данных](../plan-design/hierarchy/data-transfers-between-sites.md#bkmk_dbrep) и **Распределенные представления** раздела [Передача данных между сайтами](../plan-design/hierarchy/data-transfers-between-sites.md).
  - **Таблицы, включаемые в синхронизацию**. Укажите имена всех дополнительных таблиц, которые необходимо синхронизировать. Имена нескольких таблиц разделяются запятыми. Эти таблицы будут синхронизироваться из базы данных сайта в дополнение к выбранным группам репликации.
  - **Таблицы, исключаемые из синхронизации**. Укажите имена отдельных таблиц из синхронизируемых групп репликации. Указанные таблицы не будут синхронизироваться. Имена нескольких таблиц разделяются запятыми.
- **Параметры синхронизации:**
  - **Интервал синхронизации (минуты)** . Укажите значение в минутах. По истечении интервала запускается новая операция синхронизации. Допустимый диапазон значений: от 60 до 1440 минут (24 часов).
  - **Расписание**. Укажите дни, в которые должна выполняться синхронизация.

**Доступ к точке формирования отчетов**:   
После установки роли хранилища данных учетная запись, используемая в качестве *учетной записи точки служб отчетов*, должна иметь разрешение **db_datareader** на доступ к базе данных хранилища данных.

#### <a name="troubleshoot-installation-and-data-synchronization"></a>Устранение неполадок установки и синхронизации данных
Для изучения проблем, возникающих при установке точки обслуживания хранилища данных или синхронизации данных, используйте указанные ниже журналы.
- **DWSSMSI.log** и **DWSSSetup.log** — используйте эти журналы для изучения ошибок, возникающих при установке точки обслуживания хранилища данных.
- **Microsoft.ConfigMgrDataWarehouse.log** — используйте этот журнал для изучения ошибок синхронизации данных между базой данных сайта и базой данных хранилища данных.

### <a name="reporting"></a>Отчеты
После установки роли системы сайта "Хранилище данных" в точке служб отчетов доступны указанные ниже отчеты с *категорией* **Хранилище данных**.

|Отчет                   | Сведения                                  |
|-------------------------|------------------------------------------|
| **Отчет о развертывании приложения** | Содержит сведения о развертывании определенного приложения на компьютере.|
| **Отчет об Endpoint Protection и соответствии обновлений программного обеспечения**   | Содержит сведения о компьютерах, на которых отсутствуют обновления программного обеспечения.|
| **Общий отчет об инвентаризации оборудования**  | Содержит полные инвентарные данные по оборудованию на определенном компьютере.|
| **Общий отчет об инвентаризации программного обеспечения**  | Содержит полные инвентарные данные по программному обеспечению на определенном компьютере.|
| **Обзор работоспособности инфраструктуры**  |Содержит обзор работоспособности инфраструктуры Configuration Manager.|
| **Список обнаруженных вредоносных программ**  |Содержит сведения о вредоносных программах, обнаруженных в организации.|
| **Сводный отчет о распространении программного обеспечения** | Сводка распространения программного обеспечения для определенного объявления и компьютера.|

### <a name="move-the-data-warehouse-database"></a>Перенос базы данных хранилища данных
Чтобы перенести базу данных хранилища данных на новый сервер SQL Server, выполните указанные ниже действия.

1. Просмотрите текущую конфигурацию базы данных и запишите сведения о ней, включая следующие:  
   - синхронизируемые группы данных;
   - таблицы, включенные в синхронизацию или исключенные из нее.       

   После восстановления базы данных на новом сервере и повторной установки роли системы сайта вы снова настроите эти группы данных и таблицы.  

2. Используйте среду SQL Server Management Studio для резервного копирования базы данных хранилища данных и ее восстановления в экземпляре SQL Server на новом компьютере, на котором будет размещаться хранилище данных.

   После восстановления базы данных на новом сервере убедитесь в том, что разрешения на доступ к новой базе данных хранилища данных совпадают с исходными.

3. Чтобы удалить роль системы сайта "Точка обслуживания хранилища данных" с текущего сервера, используйте консоль Configuration Manager.

4. Установите новую точку обслуживания хранилища данных и укажите имя нового сервера и экземпляра SQL Server, где размещается восстановленная база данных хранилища данных.

5. После установки роли системы сайта перемещение завершено.

Чтобы убедиться в том, что повторная установка роли системы сайта завершилась успешно, можно просмотреть указанные ниже журналы Configuration Manager.  
- **DWSSMSI.log** и **DWSSSetup.log** — используйте эти журналы для изучения ошибок, возникающих при установке точки обслуживания хранилища данных.
- **Microsoft.ConfigMgrDataWarehouse.log** — используйте этот журнал для изучения ошибок синхронизации данных между базой данных сайта и базой данных хранилища данных.


## <a name="content-library-cleanup-tool"></a>Средство очистки библиотеки содержимого
Начиная с версии Technical Preview 1612 можно использовать новую программу командной строки (**ContentLibraryCleanup.exe**) для удаления содержимого, которое больше не связано с каким-либо пакетами или приложениями в точке распространения (потерянное содержимое). Эта программа называется средством очистки библиотеки содержимого.

Она применяется только к содержимому в точке распространения, указанной при ее запуске, и не может удалять содержимое из библиотеки содержимого на сервере сайта.

После установки версии Technical Preview 1612 средство **ContentLibraryCleanup.exe** можно найти в папке *%CM_Installation_Path%\cd.latest\SMSSETUP\TOOLS\ContentLibraryCleanup\* на сервере сайта Technical Preview.

Средство, входящее в состав этого выпуска Technical Preview, заменяет старые версии аналогичных средств для предыдущих продуктов Configuration Manager. Эта версия средства перестанет работать после 1 марта 2017 года, однако с последующими версиями Technical Preview будут выпускаться его новые версии, пока это средство не будет выпущено в составе версии Current Branch или рабочего выпуска.

### <a name="requirements"></a>Requirements (Требования)  
- Средство можно запускать непосредственно на компьютере, на котором размещается точка распространения, или удаленно с другого сервера. Средство можно одновременно запускать только применительно к одной точке распространения.
- Учетная запись пользователя, используемая для запуска средства, должна иметь разрешения администрирования на основе ролей, эквивалентные правам полного администратора в иерархии Configuration Manager.  Средство не работает, если разрешения предоставлены учетной записи пользователя как члену группы безопасности Windows с правами полного администратора.

### <a name="modes-of-operation"></a>Режимы работы
Средство может выполняться в двух режимах.
1. **Режим "что, если"** .   
   Если не указать параметр **/delete**, средство выполняется в режиме "что, если" и определяет содержимое, которое следует удалить из точки распространения, но не удаляет данные.

   - Когда средство работает в этом режиме, сведения о содержимом, которое следует удалить, автоматически записываются в файл журнала средств. Пользователю не предлагается подтвердить потенциальное удаление каждого элемента данных.
   - По умолчанию файл журнала записывается во временную папку пользователя на компьютере, где выполняется средство, однако с помощью параметра /log можно указать другое место для него.  
   </br>

   Мы рекомендуем запустить средство в этом режиме и просмотреть полученный файл журнала, прежде чем выполнять средство с параметром /delete.  

2. **Режим удаления**. Если вы запустите средство с параметром **/delete**, оно будет работать в режиме удаления.

   - В этом режиме потерянное содержимое, найденное в указанной точке распространения, может удаляться из библиотеки содержимого точки распространения.
   -  Перед удалением каждого файла пользователю выводится запрос на подтверждение операции.  Вы можете выбрать **Y** для удаления, **N** для отмены или **Да для всех**, чтобы запросы больше не выводились и все потерянное содержимое удалялось автоматически.  
   </br>

   Мы рекомендуем запустить средство в режиме "что, если" и просмотреть полученный файл журнала, прежде чем выполнять средство с параметром /delete.  

При запуске средства очистки библиотеки содержимого в любом из режимов оно автоматически создает журнал с именем, в котором указывается режим работы средства, имя точки распространения, дата и время операции. По завершении работы средства файл журнала открывается автоматически. По умолчанию этот журнал записывается в папку **temp** пользователя на компьютере, где выполняется средство. Однако с помощью параметра командной строки можно указать другое место для него, в том числе сетевую папку.   


### <a name="run-the-tool"></a>Запуск средства
Вот как запустить средство:
1. Откройте командную строку администратора и перейдите в папку, в которой содержится файл **ContentLibraryCleanup.exe**.  
2. Затем введите команду, содержащую обязательные параметры командной строки, а также необходимые дополнительные параметры.

**Известная проблема**. Если произошел сбой или продолжается выполнение любого пакета или развертывания, при запуске средства может появляться следующая ошибка:
-  *System.InvalidOperationException: This content library cannot be cleaned up right now because package \<packageID> is not fully installed.*

**Обходной путь**. Нет. Средство не может надежно определять потерянные файлы, когда содержимое развертывается или развертывание завершилось сбоем. Поэтому средство не позволит очистить содержимое, пока эта проблема не будет решена.



### <a name="command-line-switches"></a>Параметры командной строки  
Приведенные ниже параметры командной строки можно использовать в любом порядке.   

|Переключение|Сведения|
|---------|-------|
|**/delete**  |**Необязательно** </br> Используйте этот параметр, если необходимо удалить содержимое из точки распространения. Перед удалением содержимого выводится запрос. </br></br> Если этот параметр не указан, средство записывает в журнал сведения о том, какое содержимое было бы удалено, но не удаляет данные из точки распространения. </br></br> Пример: ***ContentLibraryCleanup.exe /dp server1.contoso.com /delete*** |
| **/q**       |**Необязательный** </br> Средство выполняется в тихом режиме, в котором подавляются все запросы (например, запросы на удаление содержимого), а файл журнала не открывается автоматически. </br></br> Пример: ***ContentLibraryCleanup.exe /q /dp server1.contoso.com*** |
| **/dp &lt;полное доменное имя точки распространения>**  | **Обязательное** </br> Укажите полное доменное имя точки распространения, которую нужно очистить. </br></br> Пример:  ***ContentLibraryCleanup.exe /dp server1.contoso.com***|
| **/ps &lt;полное доменное имя первичного сайта>**       | **Необязательный** при очистке содержимого в точке распространения на первичном сайте.</br>**Обязательный** при очистке содержимого в точке распространения на вторичном сайте. </br></br> Укажите полное доменное имя первичного сайта, к которому относится точка распространения, или родительского первичного сайта, если точка распространения находится на вторичном сайте. </br></br> Пример: ***ContentLibraryCleanup.exe /dp server1.contoso.com /ps siteserver1.contoso.com*** |
| **/sc &lt;код первичного сайта>**  | **Необязательный** при очистке содержимого в точке распространения на первичном сайте.</br>**Обязательный** при очистке содержимого в точке распространения на вторичном сайте. </br></br> Укажите код первичного сайта, к которому относится точка распространения, или код родительского первичного сайта, если точка распространения находится на вторичном сайте.</br></br> Пример: ***ContentLibraryCleanup.exe /dp server1.contoso.com /sc ABC*** |
| **/log \<каталог_файла_журнала>**       |**Необязательно** </br> Укажите каталог размещения файлов журнала. Это может быть локальный диск или сетевая папка.</br></br> Если этот параметр не используется, файлы журнала автоматически помещаются во временную папку пользователя.</br></br> Пример локального диска. ***ContentLibraryCleanup.exe /dp server1.contoso.com /log C:\Users\Administrator\Desktop*** </br></br>Пример сетевой папки. ***ContentLibraryCleanup.exe /dp server1.contoso.com /log \\&lt;share>\&lt;folder>***|


## <a name="improvements-for-in-console-search"></a>Улучшения функции поиска в консоли
Учитывая отзывы на сайте User Voice, мы добавили указанные ниже улучшения в функцию поиска в консоли.
- **Путь объекта**.  
  Многие объекты теперь поддерживают новый столбец с именем **Путь объекта**.  Если при поиске вы включаете этот столбец в отображаемые результаты, то вы можете просмотреть путь к каждому объекту. Например, если вы выполняете поиск приложений в узле "Приложения" и включаете в поиск подузлы, столбец *Путь объекта* в области результатов будет содержать путь к каждому возвращенному объекту.   

- **Сохранение искомого текста**.  
  Когда вы вводите текст в поле поиска, а затем переключаетесь между текущим узлом и подузлом, в которых выполняется поиск, введенный текст сохраняется и вам не нужно вводить его повторно для нового поиска.

- **Сохранение выбора поиска в подузлах**.  
  Выбранный вариант поиска — в *текущем узле* или во *всех подузлах* — теперь сохраняется, когда вы изменяете узел, с которым работаете.   Это означает, что вам не нужно каждый раз выбирать нужный вариант при работе с консолью.  Когда вы открываете консоль, по умолчанию поиск выполняется только в текущем узле.

## <a name="prevent-installation-of-an-application-if-a-specified-program-is-running"></a>Предотвращение установки приложения, если указанная программа выполняется.
Теперь в свойствах типа развертывания можно настроить список исполняемых файлов (с расширением EXE), выполнение которых блокирует установку приложения. При попытке выполнить установку открывается диалоговое окно с просьбой завершить процессы, блокирующие установку.

### <a name="try-it-out"></a>Попробуйте!
Настройка списка исполняемых файлов
1. На странице свойств любого типа развертывания выберите вкладку **Обработка установщика**.
2. Нажмите кнопку **Добавить**, чтобы добавить в список один или несколько исполняемых файлов (например, **Edge.exe**).
3. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно свойств типа развертывания.

Теперь, если при развертывании этого приложения для пользователя или устройства один из указанных исполняемых файлов будет выполняться, конечный пользователь увидит диалоговое окно центра программного обеспечения с сообщением о том, что установка завершилась сбоем, так как приложение запущено.

## <a name="new-windows-hello-for-business-notification-for-end-users"></a>Новое уведомление Windows Hello для бизнеса для конечных пользователей

Новое уведомление Windows 10 сообщает конечным пользователям о том, что им необходимо выполнить дополнительные действия для завершения установки Windows Hello для бизнеса (например, задать ПИН-код).

## <a name="windows-store-for-business-support-in-configuration-manager"></a>Поддержка Магазина Windows для бизнеса в Configuration Manager

Теперь можно развертывать лицензируемые через Интернет приложения с целью развертывания **Доступно** из Магазина Windows для бизнеса на компьютерах с клиентом Configuration Manager.
Дополнительные сведения см. в статье [Управление приложениями из Магазина Windows для бизнеса с помощью Configuration Manager](../../apps/deploy-use/manage-apps-from-the-windows-store-for-business.md).

Поддержка этой функции в настоящее время доступна только на компьютерах с предварительной сборкой Windows 10 RS2.

## <a name="return-to-previous-page-when-a-task-sequence-fails"></a>Возврат на предыдущую страницу при сбое последовательности задач
Если при выполнении последовательности задач происходит сбой, теперь можно вернуться на предыдущую страницу. До этого выпуска в случае сбоя необходимо было перезапускать последовательность задач. Например, кнопку **Назад** можно использовать в описанных ниже сценариях.

- Когда компьютер загружается в среде Windows PE, диалоговое окно начальной загрузки последовательности задач может выводиться до того, как последовательность задач станет доступна. Если нажать кнопку "Далее" в этой ситуации, откроется последняя страница последовательности задач с сообщением о том, что нет доступных последовательностей задач. Теперь можно нажать кнопку **Назад**, чтобы еще раз выполнить поиск доступных последовательностей. Эту процедуру можно повторять до тех пор, пока последовательность задач не станет доступна.
- Если при запуске последовательности задач зависимые пакеты содержимого еще не доступны в точках распространения, последовательность задач завершается сбоем. Теперь можно распространить отсутствующее содержимое (если оно еще не было распространено) или подождать, когда содержимое станет доступно в точках распространения, а затем нажать кнопку **Назад**, чтобы последовательность задач еще раз выполнила поиск содержимого.

## <a name="express-installation-files-support-for-windows-10-updates"></a>Поддержка файлов экспресс-установки для обновлений Windows 10
Мы добавили поддержку файлов экспресс-установки в Configuration Manager для обновлений Windows 10. Если вы используете поддерживаемую версию Windows 10, то теперь с помощью параметров Configuration Manager можно скачать только разницу между накопительным пакетом обновления Windows 10 за текущий месяц и обновлением за прошлый месяц. В настоящее время в Configuration Manager Current Branch каждый месяц скачивается весь накопительный пакет обновления Windows 10 (включая все обновления за предыдущие месяцы). Использование файлов экспресс-установки позволяет уменьшить объем скачиваемых данных и ускорить установку на клиентах.

> [!IMPORTANT]
> Хотя параметры для использования файлов экспресс-установки доступны в Configuration Manager, эта функция поддерживается только в Windows 10 версии 1607 с обновлением для агента Центра обновления Windows, выпущенным в составе обновлений от 10 января 2017 года (день установки исправлений). Дополнительные сведения об этих обновлениях см. в [статье 3213986 на сайте службы поддержки](https://support.microsoft.com/help/4009938/january-10-2017-kb3213986-os-build-14393-693). Вы можете воспользоваться файлами экспресс-установки после выпуска следующего набора обновлений 14 февраля 2017 года. Windows 10 версии 1607 без обновления и более ранние версии не поддерживают файлы экспресс-установки.


### <a name="to-enable-the-download-of-express-installation-files-for-windows-10-updates-on-the-server"></a>Включение скачивания файлов экспресс-установки для обновлений Windows 10 на сервере
Чтобы начать синхронизацию метаданных для файлов экспресс-установки Windows 10, необходимо включить ее в свойствах точки обновления программного обеспечения.
1. В консоли Configuration Manager последовательно щелкните **Администрирование** > **Конфигурация сайта** > **Сайты**.
2. Выберите сайт центра администрирования или автономный первичный сайт.
3. На вкладке **Главная** в группе **Параметры** выберите **Настройка компонентов сайта**, а затем щелкните **Точка обновления программного обеспечения**. На вкладке **Файлы обновлений** выберите **Скачать полные файлы для всех утвержденных обновлений и файлы экспресс-установки для Windows 10**.

### <a name="to-enable-support-for-clients-to-download-and-install-express-installation-files"></a>Включение поддержки скачивания и установки файлов экспресс-установки клиентами
Чтобы обеспечить поддержку файлов экспресс-установки на клиентах, необходимо включить такую возможность в разделе "Обновления программного обеспечения" параметров клиента. При этом создается HTTP-прослушиватель, который прослушивает запросы на скачивание файлов экспресс-установки на указанном порте. После развертывания параметров для включения этой функции на клиенте он попытается скачать разницу между накопительным пакетом обновления Windows 10 за текущий месяц и обновлением за прошлый месяц (на клиентах должна использоваться версия Windows 10, поддерживающая файлы экспресс-установки).
1. Включите поддержку файлов экспресс-установки в свойствах компонента точки обновления программного обеспечения (предыдущая процедура).
2. В консоли Configuration Manager выберите **Администрирование** > **Параметры клиента**.
3. Выберите соответствующие параметры клиента, а затем на вкладке **Главная** щелкните **Свойства**.
4. Выберите страницу **Обновления программного обеспечения**, задайте значение **Да** для параметра **Разрешить установку экспресс-обновлений на клиенты** и настройте порт, используемый HTTP-прослушивателем на клиенте, в качестве значения параметра **Порт, используемый для скачивания содержимого экспресс-обновлений**.


## <a name="odata-endpoint-data-access"></a>Доступ к данным в конечной точке OData

 Configuration Manager теперь предоставляет конечную точку RESTful OData для доступа к данным Configuration Manager. Конечная точка совместима с Odata версии 4, что позволяет таким средствам, как Excel и Power BI, легко получать доступ к данным Configuration Manager через единую конечную точку. Версия Technical Preview 1612 поддерживает доступ только для чтения к объектам в Configuration Manager.  

Данные, доступные в настоящее время в [поставщике WMI Configuration Manager](../../develop/reference/configuration-manager-reference.md), теперь также доступны посредством новой конечной точки OData RESTful. Наборы сущностей, предоставляемые конечной точкой OData, позволяют осуществлять перечисление данных, которые можно запрашивать с помощью поставщика WMI.

### <a name="try-it-out"></a>Попробуйте!

Перед использованием конечной точки OData необходимо включить ее для сайта.

1.  Последовательно выберите **Администрирование** > **Конфигурация сайта** > **Сайты**.
2.  Выберите первичный сайт и щелкните **Свойства**.
3.  На вкладке "Общие" таблицы свойств первичного сайта щелкните **Включить конечную точку REST для всех поставщиков на этом сайте**, а затем нажмите кнопку **ОК**.

В средстве просмотра запросов OData попробуйте выполнить запросы, аналогичные приведенным ниже примерам, для получения различных объектов в Configuration Manager.

| Назначение | Запрос OData |
|---|---|
| Получение всех коллекций | `http://localhost/CMRestProvider/Collection` |
| Получение коллекции | `http://localhost/CMRestProvider/Collection('SMS00001')`
| Получение первых 100 устройств в коллекции | `http://localhost/CMRestProvider/Collection('SMS00001')/Device?$top=100` |
| Получение устройства с идентификатором ресурса в коллекции | `http://localhost/CMRestProvider/Collection('SMS00001')/Device(16777573)` |
| Получение операционной системы устройства в коллекции | `http://localhost/CMRestProvider/Collection('SMS00001')/Device(16777573)/OPERATING_SYSTEM` |
| Получение пользователей в коллекции | `http://localhost/CMRestProvider/Collection('SMS00001')/User` |

> [!NOTE]
> В примерах запросов, приведенных в таблице, в качестве имени узла в URL-адресе применяется *localhost*. Примеры можно использовать на компьютере, на котором выполняется поставщик SMS. Если вы выполняете запросы с другого компьютера, замените localhost на полное доменное имя сервера с установленным поставщиком SMS.

## <a name="azure-active-directory-onboarding"></a>Подключение Azure Active Directory

В результате подключения Azure Active Directory (AD) создается соединение между Configuration Manager и Azure Active Directory, используемое другими облачными службами. В настоящее время эту возможность можно использовать для создания соединения для шлюза управления облаком.

Выполните эту задачу вместе с администратором Azure, так как вам потребуются учетные данные администратора Azure.

#### <a name="to-create-the-connection"></a>Чтобы создать подключение, выполните указанные ниже действия.

2. В рабочей области **Администрирование** последовательно выберите **Облачные службы** > **Azure Active Directory** > **Добавление Azure Active Directory**.
2. Выберите **Вход**, чтобы создать соединение с Azure AD.

#### <a name="configuration-manager-client-requirements"></a>Требования к клиентам Configuration Manager

Существует ряд требований для обеспечения создания политики пользователей в шлюзе управления облаком.

- Должен быть завершен процесс подключения Azure AD, а клиент быть изначально подключен к корпоративной сети для получения сведений о подключении.
- Клиенты должны быть подключены как к домену (зарегистрированы в Active Directory), так и к облачному домену (зарегистрированы в Azure AD).
- Необходимо запустить средство [Обнаружение пользователей Active Directory](../servers/deploy/configure/about-discovery-methods.md#bkmk_aboutUser).
- Необходимо изменить клиент Configuration Manager, чтобы разрешить передачу запросов политики пользователей через Интернет, и развернуть изменение на клиенте. Так как это изменение производится *на клиентском устройстве*, его можно развернуть через шлюз управления облаком, хотя изменения конфигурации, необходимые для политики пользователей, еще не завершены.
- Точка управления должна быть настроена для использования протокола HTTPS с целью защиты токена в сети, и на ней должна быть установлена платформа .Net 4.5.

После внесения этих изменений в конфигурацию можно создать политику пользователей и перенести клиенты в Интернет, чтобы протестировать политику. К запросам политики пользователей, выполняемым через шлюз управления облаком, будет применяться проверка подлинности на основе токенов Azure AD.

## <a name="change-to-configuring-multi-factor-authentication-for-device-enrollment"></a>Переход к настройке многофакторной проверки подлинности для регистрации устройств

Теперь, когда можно настроить многофакторную проверку подлинности (MFA) для регистрации устройств на портале Azure, параметр MFA был удален из консоли Configuration Manager. Дополнительные сведения о настройке MFA для регистрации можно найти [в этой статье по Microsoft Intune](/mem/intune/enrollment/multi-factor-authentication).
