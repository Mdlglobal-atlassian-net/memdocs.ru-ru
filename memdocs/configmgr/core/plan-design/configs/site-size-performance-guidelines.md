---
title: Рекомендации по размеру и производительности сайта
titleSuffix: Configuration Manager
description: Результаты теста производительности, связанные с размером сайта, методология и рекомендации.
author: aczechowski
ms.author: aaroncz
ms.prod: configuration-manager
ms.topic: conceptual
ms.date: 04/23/2019
ms.openlocfilehash: 7380621fdc7a7f4d26b4844df3ee9026f0997024
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81688652"
---
# <a name="configuration-manager-site-size-and-performance-guidelines"></a>Рекомендации по размеру и производительности сайта Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Configuration Manager лидирует в отрасли по масштабируемости и производительности. В других частях документации описываются [максимальные поддерживаемые пределы масштабируемости](size-and-scale-numbers.md) и [рекомендации по оборудованию](recommended-hardware.md) для запуска сайтов в средах наибольшего размера. В этой статье приводятся дополнительные рекомендации по производительности для сред всех размеров. Он помогут вам более точно оценить объем оборудования, необходимого для развертывания Configuration Manager.

Эта статья посвящена фактору, максимально влияющему на узкие места производительности Configuration Manager: подсистеме дискового ввода-вывода или операциям ввода-вывода в секунду. Статья:

- Предоставляет сведения и результаты тестов с фокусом на операции ввода-вывода в секунду
- Описывает способы воспроизвести тесты на собственном оборудовании в своей среде
- Описывает требования по операциям ввода-вывода в секунду для сред различных размеров 

## <a name="performance-test-methodology"></a>Методики тестирования производительности

Configuration Manager можно развернуть многими уникальными способами, но очень важно понять несколько переменных, имеющих значение при обсуждении размера. Одна переменная — *интервал функции*, например цикл инвентаризации. Другой переменной является количество пользователей, развертываний программного обеспечения или других *объектов*, на которые система ссылается или которые развертывает. Тестирование производительности применяет эти переменные как часть *нагрузки*. Нагрузка создает объекты с частотой, типичной для корпоративных клиентов, использующих рабочие развертывания в средах разного размера.

> [!NOTE] 
> Данные телеметрии клиента позволяют тестировать текущую ветвь сборки с наиболее распространенными сценариями, конфигурациями и параметрами для большинства клиентов. Рекомендации, приведенные в этой статье, основаны на этих средних значениях. Ваши результаты будут зависеть от размера и конфигурации среды. Как правило, в Configuration Manager требуется здравый смысл, когда дело доходит до объектов и интервалов. Конечно, можно собирать каждый файл в системе или задать интервал для цикла как одну минуту, но это не означает, что стоит так делать.

В следующих разделах рассматриваются некоторые основные параметры и конфигурации для использования при тестировании и моделировании требований к обработке для крупных предприятий. Эти рекомендации помогут вам установить базовые ожидания от производительности системы для рекомендуемых размеров оборудования.

### <a name="feature-intervals-settings"></a>Параметры интервалов функций 
В основном для тестирования следует использовать интервалы по умолчанию для ключевых циклов в системе. Например, проверка инвентаризации оборудования происходит один раз в неделю с *MOF-файлом* большего, чем обычно, размера. Некоторые повторяющиеся интервалы функций, особенно цикл инвентаризации оборудования и программного обеспечения, могут оказывать существенное влияние на характеристики производительности среды. Среды, которые допускают агрессивные интервалы сбора данных по умолчанию, нуждаются в масштабировании оборудования прямо пропорционально увеличению числа действий. Например, предположим, есть 25 000 клиентов и нужно вести сбор данных инвентаризации оборудования в два раза чаще интервала по умолчанию. Следует начать с изменения размера оборудования сайта до уровня в 50 000 клиентов.

### <a name="objects"></a>Объекты 
Тесты должны использовать *верхнее среднее* объектов, которые крупные предприятия, как правило, используют с системой. Обычные значения составляют тысячи коллекций и приложений, которые развертываются среди сотен тысяч пользователей или систем. Тесты должны выполняться одновременно для *всех* объектов в системе с этими пределами. Многие клиенты используют несколько функций, но обычно не все функции продукта на уровне этих верхних пределов. Тестирование с участием всех функций продукта помогает обеспечить максимальную производительность всей системы и отводит буфер для функций, которые некоторые клиенты могут использовать активнее среднего. 

### <a name="loads"></a>Нагрузки 
Тесты должны выполняться и на нагрузках, превышающих стандартное *среднее за день* значение, за счет имитации, которая создает пики использования в системе. Одним из примеров будет имитация развертывания исправлений во вторник, позволяющая убедиться в том, что система сможет незамедлительно вернуть данные о соответствии обновлений в эти дни пиковой активности. Еще один пример имитирует действия сайта во время широкой вспышки заражения, позволяя убедиться, что возможны своевременное уведомление и реакция. Несмотря на то, что развертываемые машины рекомендуемого размера могут быть недогружены каждый день, нештатные чрезвычайные ситуации требуют некоторого буфера для обработки.

### <a name="configurations"></a>Конфигурации
Тестирование производительности проводится на широком спектре физического оборудования, оборудования Hyper-V и Azure и включает различные комбинации поддерживаемых операционных систем и версий SQL Server. Всегда проверяйте наихудшие случаи для поддерживаемой конфигурации. Как правило, Hyper-V и Azure показывают результаты производительности, сравнимые с эквивалентным физическим оборудованием при настройке аналогичным образом. Более новые серверные операционные системы, как правило, работают не хуже или даже лучше, чем более старые поддерживаемые серверные операционные системы. Хотя характеристики всех поддерживаемых платформ соответствуют минимальным требованиям, обычно последние версии базовых продуктов, таких как Windows и SQL, отличаются более высокой производительностью. 

Наибольшая вариативность возникает в связи с используемой версией SQL Server. Дополнительные сведения о версиях SQL Server см. в разделе [Какую версию SQL следует использовать?](../../understand/site-size-performance-faq.md#what-version-of-sql-should-i-run) 

## <a name="key-performance-determinants"></a>Ключевые определители производительности

Вы можете тестировать и измерять показатели производительности Configuration Manager с помощью разных параметров, разными способами и для разных размеров сайта. Следующие параметры и объекты могут существенно повлиять на производительность. Необходимо учитывать их при тестировании и моделировании производительности в вашей среде.

> [!CAUTION]
> Хотя некоторые аспекты Configuration Manager имеют официальные максимальные ограничения или ограничения интерфейса пользователя, которые препятствуют чрезмерной загрузке, выход за рамки рекомендаций может оказать значительное отрицательное воздействие на производительность веб-сайта. Превышение рекомендуемых уровней или игнорирование рекомендаций по выбору размеров обычно требует оборудования большего размера, что может сделать среду неудобной с точки зрения поддержки, пока вы не уменьшите частоту или число различных объектов.

### <a name="hardware-inventory"></a>Инвентаризация оборудования
Чтобы проверить базовые показатели производительности, задайте частоту сбора данных для инвентаризации оборудования как раз в неделю, указав значение по умолчанию для размера *MOF-файла* и отведя еще 20 % под дополнительные свойства. Не следует включать все свойства; собирать следует только те свойства, которые действительно нужны. Обратите особое внимание при сборе данных на такие свойства, как доступная виртуальная память; они будут *всегда* изменяться при *каждом* цикле инвентаризации. Сбор этих свойств может привести к чрезмерным обновлениям на каждом цикле инвентаризации с каждого клиента.

### <a name="software-inventory"></a>Инвентаризация программного обеспечения
Чтобы проверить базовые показатели производительности, задайте сбор данных для инвентаризации программного обеспечения только раз в неделю, выбрав сведения *только о продуктах*. Сбор большого числа файлов способен значительно замедлить работу подсистемы инвентаризации. Старайтесь не использовать фильтры, которые могут захватить тысячи файлов со многих клиентов, такие как *\*.exe* или *\*.dll*.

### <a name="collections"></a>Коллекции
Тестирование производительности базовых показателей может включать в себя несколько тысяч коллекций с разнообразными областями действия, размерами, сложностью и параметрами обновлений. Производительность сайта не является прямой функцией от числа коллекций на сайте. Производительность также определяется сложностью запроса коллекции, полными и добавочными обновлениями и частотой изменения зависимостей между запуском коллекций, а также количеством клиентов в коллекциях.

Если это возможно, стоит свести к минимуму коллекции, имеющие дорогостоящие и сложные динамические правила запросов. Для коллекций, которые требуют эти типы правил, задайте соответствующие интервалы и время обновления, чтобы свести к минимуму влияние повторной оценки коллекции в системе. Например, укажите обновление в полночь вместо 08:00.

Включение добавочного обновления коллекций обеспечивает быстрое периодическое обновление данных о членстве в коллекции. Несмотря на то, что добавочные обновления весьма эффективны, они по-прежнему создают нагрузку в системе. Сбалансируйте частоту изменения, которую планируется использовать, с необходимостью обновления данных о членстве в режиме почти реального времени. Например, предположим,что ожидается интенсивный отток членов коллекции, но обновление членства в режиме почти реального времени не требуется. Для системы нагрузка будет меньше, а работа — эффективнее, если обновить коллекцию через запланированное полное обновление с некоторым интервалом, нежели разрешить добавочные обновления. 

При включении добавочных обновлений следует сократить частоту всех запланированных полных обновлений в тех же коллекциях. Это лишь резервный способ оценки, так как добавочные обновления должны обновлять данные о членстве в ваших коллекциях в режиме почти реального времени. [Советы и рекомендации для коллекций](../../clients/manage/collections/best-practices-for-collections.md#bkmk_incremental) задают максимальное общее число коллекций для добавочного обновления, но, как сказано в статье, этот процесс может меняться в зависимости от разных факторов.

Коллекции, где есть только правила непосредственного членства, с ограничивающей коллекцией, которая не проводит добавочное обновление, не нуждаются в планировании полных обновлений. Отключение расписаний обновления для этих типов коллекций позволит предотвратить ненужную нагрузку в системе. Если в ограничивающей коллекции используются добавочные обновления, то коллекции, в которых есть только правила непосредственного членства, могут не отражать обновления в данных о членстве до 24 часов или до запланированного обновления.

Хотя это и не рекомендуется, некоторые организации могут создавать сотни или даже тысячи коллекций в рамках различных бизнес-процессов. При использовании автоматизации для создания коллекций очень важно правильно включить все необходимые добавочные обновления. Следует свести к минимуму и распределить все расписания полных обновлений, чтобы избежать концентрации оценки коллекций в течение сжатого периода времени. Задайте регулярный процесс очистки для удаления неиспользуемых коллекций, особенно в том случае, если вы автоматически создаете коллекции, которые становятся не нужны через некоторое время.

Помните, что Configuration Manager создает политики для всех объектов в коллекциях при выборе для них таких задач, как развертывание. Изменения членства с помощью запланированного обновления или добавочных обновлений способны вызвать много других действий в пределах всей системы. Последние сборки Current Branch имеют специальные политики оптимизации для коллекций "Все системы" и "Все пользователи". При нацеливании на все предприятие используйте сами встроенные коллекции вместо их клонирования.

Чтобы изучить производительность коллекций еще на уровень ниже, можно использовать средство просмотра оценок коллекций (CEViewer) в [наборе инструментов Configuration Manager](https://www.microsoft.com/download/details.aspx?id=50012).

### <a name="discovery-methods"></a>Методы обнаружения
Для тестирования базовых показателей производительности запускайте методы обнаружения на серверах один раз в неделю, включив при необходимости разностное обнаружение изменений, чтобы обеспечить актуальность данных в течение недели. Тесты должны обнаруживать количество объектов, пропорциональное размеру имитации предприятия. Базовый тест производительности для обнаружения пакетов пульса также следует запустить один раз в неделю.

Данные обнаружения являются глобальными. Распространенная проблема, связанные с производительностью, — неправильная настройка методов обнаружения на основе сервера в иерархии, приводящая к дублированию при обнаружении ресурсов из нескольких первичных сайтов. Внимательно настройте методы обнаружения для оптимизации взаимодействия с целевой службой, такой как контроллеры домена Active Directory, избегая дублирования одной и той же области обнаружения на нескольких первичных сайтах.

## <a name="general-sizing-guidelines"></a>Общие рекомендации по размерам 

На основе описанных выше [методик тестирования производительности](#performance-test-methodology) в следующей таблице приведены общие *минимальные* требования к оборудованию для определенного количества управляемых клиентов. Эти значения должны позволить большинству пользователей с указанным количеством клиентов достаточно быстро обрабатывать объекты для администрирования указанного сайта. Вычислительные мощности продолжают дешеветь год за годом, и некоторые требования ниже малозначимы в сравнении с конфигурацией современного серверного оборудования. Оборудование, которое превышает следующие рекомендации, пропорционально увеличивает производительность для сайтов, которые требуют дополнительных вычислительных мощностей или имеют особые шаблоны использования продуктов. 

| Клиенты для настольных ПК  | Тип и роль сайта  | Ядра<sup>1</sup>   | Память (ГБ)   | Выделение памяти SQL  | Операции ввода-вывода в секунду:  Папки "Входящие"<sup>2</sup>  | Операции ввода-вывода в секунду: SQL<sup>2</sup>   | Требуемое дисковое пространство (ГБ)<sup>3</sup>   |
|------|-------------------------------------------------------------|-----|-----|-----|------|------|------|
| 25 тысяч  | Первичный сайт или сервер клиентского доступа с ролью базы данных сайта на том же сервере   | 6   | 24  | 65 % | 600  | 1700 | 350  |
| 25 тысяч  | Основной сайт или сервер клиентского доступа                                              | 4   | 8   |     | 600  |      | 100  |
|      | Удаленный сервер SQL                                                  | 4   | 16  | 70 % |      | 1700 | 250  |
|      |                                                             |     |     |     |      |      |      |
| 50 тысяч  | Первичный сайт или сервер клиентского доступа с ролью базы данных сайта на том же сервере   | 8   | 32  | 70 % | 1200 | 2800 | 600  |
| 50 тысяч  | Основной сайт или сервер клиентского доступа                                              | 4   | 8   |     | 1200 |      | 200  |
|      | Удаленный сервер SQL                                                  | 8   | 24  | 70 % |      | 2800 | 400  |
|      |                                                             |     |     |     |      |      |      |
| 100 тысяч | Первичный сайт или сервер клиентского доступа с ролью базы данных сайта на том же сервере   | 12  | 64  | 70 % | 1200 | 5000 | 1100 |
| 100 тысяч | Основной сайт или сервер клиентского доступа                                              | 6   | 12  |     | 1200 |      | 300  |
|      | Удаленный сервер SQL                                                  | 12  | 48  | 80 % |      | 5000 | 800  |
|      |                                                             |     |     |     |      |      |      |
| 150 тысяч | Первичный сайт или сервер клиентского доступа с ролью базы данных сайта на том же сервере   | 16  | 96  | 70 % | 1800 | 7400 | 1600 |
| 150 тысяч | Основной сайт или сервер клиентского доступа                                   | 8   | 16   |     | 1800  |         | 400   |
|      | Удаленный сервер SQL                                       | 16  | 72   | 90 % |       | 7400    | 1200  |
|      |                                                             |     |     |     |      |      |      |
| 700 тысяч | Сервер клиентского доступа с ролью базы данных сайта на том же сервере   | 20+ | 128+ | 80 % | 1800+ | 9000+   | 5000+ |
| 700 тысяч | Сервер клиентского доступа                                              | 8+  | 16+  |     | 1800+ |         | 500+  |
|      | Удаленный сервер SQL                                       | 16+ | 96+  | 90 % |       | 9000+   | 4500+ |
|      |                                                             |     |     |     |      |      |      |
| 5 тысяч   | Вторичный сайт                                   | 4   | 8    |     | 500   | -       | 200   |
| 15 тысяч  | Вторичный сайт                                   | 8   | 16   |     | 500   | -       | 300   |

**Примечания**.

1. **Ядра**. Configuration Manager выполняет много одновременных процессов, поэтому минимальное число ядер ЦП зависит от размера узла. Хотя ядра каждый год становятся быстрее, очень важно гарантировать, что определенное минимальное число ядер будет работать в параллельном режиме. Как правило, любой серверный ЦП, выпущенный после 2015 г., соответствует базовым показателям производительности ядер, указанным в таблице. Configuration Manager использует преимущества дополнительных ядер и помимо рекомендаций, но, как правило, при наличии минимального рекомендованного числа ядер следует приоритизировать распределение ресурсов ЦП для ускорения работы существующих ядер, а не добавлять новые, более медленные ядра. Например, Configuration Manager будет эффективнее в основных задачах обработки с 16 быстрыми ядрами, чем с 24 более медленными ядрами при условии, что достаточно других системных ресурсов, таких как операции ввода-вывода в секунду.
   
   Важна также связь между ядрами и памятью. В общем случае наличие менее 3–4 ГБ оперативной памяти на каждое ядро уменьшает общую производительность на серверах SQL. Необходимо больше оперативной памяти на каждое ядро, если SQL размещен совместно с компонентами сервера сайта.
   
   > [!NOTE]
   > Всех тесты задают для планов управления питанием машин максимальное энергопотребление и производительность ЦП.
   
2. **Операции ввода-вывода в секунду: Папки "Входящие" и операции ввода-вывода в секунду: SQL** означает потребности в операциях ввода-вывода в секунду для Configuration Manager и логических дисков SQL. В столбце **Операции ввода-вывода в секунду: Папки "Входящие"** показаны требования по операциям ввода-вывода в секунду для логического диска, где находятся каталоги папок "Входящие" Configuration Manager. В столбце **Операции ввода-вывода в секунду: SQL** показана общая сумма требуемых операций ввода-вывода в секунду, которая нужна для логических дисков, где хранятся различные файлы SQL. Эти столбцы будут отличаться, поскольку оба диска должны иметь разное форматирование. Дополнительные сведения и примеры рекомендаций по конфигурации дисков и файлов SQL, включая сведения о разделении файлов между несколькими томами, см. в разделе [Часто задаваемые вопросы об изменении размера и производительности сайта](../../understand/site-size-performance-faq.md).
   
   Оба столбца операций ввода-вывода в секунду используют данные из стандартного средства *Diskspd*. См. в разделе [Как измерить производительность диска](#how-to-measure-disk-performance) инструкции по повтору этих измерений. В общем случае, если выполнены базовые требования к ЦП и памяти, подсистема хранения оказывает наибольшее влияние на производительность сайта; улучшение в этой области даст оптимальную окупаемость инвестиций.
   
3.  **Требуемое дисковое пространство**. Эти значения в реальных условиях могут отличаться от других документированных рекомендаций. Мы приводим эти числа только в качестве общей рекомендации; отдельные требования могут отличаться. Тщательно планируйте требования к дисковому пространству перед установкой сайта. В большинстве случаев следует полагать, что определенный объем этого хранилища останется свободным. Вы можете использовать это буферное пространство в сценариях восстановления или обновления, где нужно свободное место на диске для установки пакета расширения. Вашему сайту может потребоваться дополнительное хранилище для больших объемов данных коллекции, более длительного хранения данных и больших объемов распространяемого программного обеспечения. Все это также можно хранить на отдельных, менее быстрых томах.

## <a name="how-to-measure-disk-performance"></a>Как измерить производительность диска 

Можно использовать стандартное средство *Diskspd* для получения стандартизованных рекомендаций по операциям ввода-вывода в секунду, требуемым для сред Configuration Manager разного размера. Хотя это не является исчерпывающим руководством, следующие шаги и командные строки теста предоставляют простой и воспроизводимый способ для оценки пропускной способности дисковой подсистемы серверов. Вы можете сравнить полученные результаты с минимальными рекомендациями по операциям ввода-вывода в секунду в таблице [Общие рекомендации по размерам](#general-sizing-guidelines). 

См. в разделе [Примеры конфигурации дисков](#example-disk-configurations) результаты тестов из различных конфигураций оборудования в лабораторных средах. Эти данные можно использовать в качестве предварительной начальной точки при разработке подсистемы хранения для новой среды с нуля.

### <a name="to-test-disk-iops"></a>Тестирование операций ввода-вывода в секунду для диска  
1. Скачайте программу *Diskspd* здесь: [https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62](https://gallery.technet.microsoft.com/DiskSpd-A-Robust-Storage-6ef84e62).
   
1. Убедитесь, что у вас есть по меньшей мере 100 ГБ свободного места на диске. Отключите все приложения, которые могут помешать или вызвать дополнительную нагрузку на диске, например активное антивирусное сканирование каталога, SQL или SMSExec.
   
1. В командной строке с повышенными привилегиями запустите *Diskspd*. 
   
   Последовательно выполните два запуска средства для тома, который требуется проверить. Первый тест выполняет случайные операции записи данных размером 64 КБ в течение минуты. Этот тест гарантирует загрузку кэша контроллера и распределение места на диске в случае, если том динамически расширяемый. Отбросьте результаты первого теста. Второй тест следует *немедленно* выполнить после первого; он производит одинаковую нагрузку в течение пяти минут.
   
   Например, используйте следующие командные строки для тестирования тома G:\\.
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d60 -h -L G:\\test\testfile.dat` 
   
   `del G:\\test\testfile.dat`
   
   `DiskSpd.exe -r -w100 -t8 -o8 -b64K -c100G -d300 -h -L G:\\test\testfile.dat`
   
1. Просмотрите выходные данные второго теста, чтобы найти общие показатели операций ввода-вывода в секунду в столбце **I/O per s**. В следующем примере это **3929.18**.

   ``` Output
   Total IO
   | thread |  bytes      |  I/Os   |  MB/s  | I/O per s | AvgLat | LatStdDev |
   |--------|-------------|---------|--------|-----------|--------|-----------|
   |   1    |  9651814400 |  147275 |  30.68 |    490.92 | 16.294 | 10.210    |
   |   2    |  9676652544 |  147654 |  30.76 |    492.18 | 16.252 |  9.998    |
   |   3    |  9638248448 |  147068 |  30.64 |    490.23 | 16.317 | 10.295    |
   |   4    |  9686089728 |  147798 |  30.79 |    492.66 | 16.236 | 10.072    |
   |   5    |  9590931456 |  146346 |  30.49 |    487.82 | 16.398 | 10.384    |
   |   6    |  9677242368 |  147663 |  30.76 |    492.21 | 16.251 | 10.067    |
   |   7    |  9637330944 |  147054 |  30.64 |    490.18 | 16.319 | 10.249    |
   |   8    |  9692577792 |  147897 |  30.81 |    492.99 | 16.225 | 10.125    |
   | Total: | 77250887680 | 1178755 | 245.57 |   3929.18 | 16.286 | 10.176    |
   ```

## <a name="example-disk-configurations"></a>Примеры конфигурации дисков

В следующих таблицах показаны результаты выполнения шагов теста из раздела [Как измерить производительность диска](#how-to-measure-disk-performance) с различными конфигурациями в тестовых лабораториях. Эти данные можно использовать в качестве *грубой* начальной точки при разработке подсистемы хранения для новой среды с нуля. 

### <a name="physical-machines-and-hyper-v"></a>Физические компьютеры и Hyper-V 
Оборудование постоянно совершенствуется. Новые поколения оборудования и другие комбинации оборудования, вроде дисков SSD и сетей SAN, будут превосходить показатели производительности, описанные ниже. Эти результаты являются базовой начальной точкой, которую следует учитывать при разработке сервера или в обсуждении с поставщиком оборудования.

В таблице ниже приведены результаты теста различных дисковых подсистем, включая шпиндели и диски SSD, для различных конфигураций в тестовых лабораториях. Все конфигурации используют диски с размером кластера 64 КБ, присоединенные к дисковым контроллерам промышленного уровня. В дополнение к числу дисков массива RAID каждый из них имеет по меньшей мере один запасной диск.

| Тип диска   | Число дисков, не включая добавочный запасной диск | RAID     | Измерения операций ввода-вывода в секунду  |
|------------------|----------------------------------------------------|---------------|---------------|
| 15 тысяч, SAS          | 2                                                  |           1   | 620           |
| 15 тысяч, SAS          | 4                                                  |           10  | 1206          |
| 15 тысяч, SAS          | 6                                                  |           10  | 1751          |
| 15 тысяч, SAS          | 8                                                  |           10  | 2322          |
| 15 тысяч, SAS          | 10                                                 |           10  | 2882          |
| 15 тысяч, SAS          | 12                                                 |           10  | 3476          |
| 15 тысяч, SAS          | 16                                                 |           10  | 4236          |
| 15 тысяч, SAS          | 20                                                 |           10  | 5148          |
| 15 тысяч, SAS          | 30                                                 |           10  | 7398          |
| 15 тысяч, SAS          | 40                                                 |           10  | 9913          |
| Диск SSD SATA         | 2                                                  |           1   | 3300          |
| Диск SSD SATA         | 4                                                  |           10  | 5542          |
| Диск SSD SATA         | 6                                                  |           10  | 7201          |
| Диск SSD SAS          | 2                                                  |           1   | 7539          |
| Диск SSD SAS          | 4                                                  |           10  | 14346         |
| Диск SSD SAS          | 6                                                  |           10  | 15607         |

Это устройства, которые используются в примере. Эта информация не является рекомендацией какой-либо модели оборудования или производителя. 

| Тип диска    | Модель      | Контроллер RAID | Кэш-память и конфигурация |
|-------------------|-----------------|----------------------|-------------------------------------|
| Жесткий диск, 15 тыс. об./мин., SAS    | HP EH0300JDYTH  | Smart Array P822     | 2 ГБ, 20 % чтения, 80 % записи           |
| Диск SSD SATA          | ATA MK0200GCTYV | Smart Array P420i    | 1 ГБ, 20 % чтения, 80 % записи           |
| Диск SSD SAS           | HP MO0800 JEFPB | Smart Array P420i    | 1 ГБ, 20 % чтения, 80 % записи           |

### <a name="azure-machine-and-disk-performance"></a>Производительность машин и дисков Azure 
Производительность диска Azure зависит от нескольких факторов, таких как размер виртуальной машины Azure, а также количество и тип дисков, которые она использует. В Azure также постоянно добавляются новые типы компьютера и скорости дисков, которые отличаются от показанных на следующей схеме. Дополнительные сведения о Configuration Manager в Azure и дисковом вводе-выводе в Azure см. в разделе [Вопросы и ответы по использованию Configuration Manager в Azure](../../understand/configuration-manager-on-azure.md).

Все диски форматируются в NTFS с кластерами размером 64 КБ; строки с несколькими дисками настраиваются как чередующиеся тома с помощью программы управления дисками Windows.

| Виртуальная машина Azure| Диск Azure| Число дисков | Свободное место | Измерения операций ввода-вывода в секунду   | Ограничивающий фактор   |
|--------------------------------------------|-------------------------|---------------------|---------------------------|-------|-----------------|
| **DS2/DS11**                              | P20                     | 1                   | 512 Мб                    | 965   | Размер ВМ Azure   |
| **DS2/DS11**                              | P20                     | 2                   | 1024 МБ                   | 996   | Размер виртуальной машины Azure   |
| **DS2/DS11**                              | P30                     | 1                   | 1024 МБ                   | 996   | Размер виртуальной машины Azure   |
| **DS2/DS11**                              | P30                     | 2                   | 2048 МБ                   | 996   | Размер ВМ Azure   |
| **DS3/DS12/F4S**                          | P20                     | 1                   | 512 Мб                    | 1994  | Размер ВМ Azure   |
| **DS3/DS12/F4S**                          | P20                     | 2                   | 1024 МБ                   | 1992  | Размер ВМ Azure   |
| **DS3/DS12/F4S**                          | P30                     | 1                   | 1024 МБ                   | 1993  | Размер ВМ Azure   |
| **DS3/DS12/F4S**                          | P30                     | 2                   | 2048 МБ                   | 1992  | Размер ВМ Azure   |
| **DS4/DS13/F8S**                          | P20                     | 1                   | 512 Мб                    | 2334  | Диск P20        |
| **DS4/DS13/F8S**                          | P20                     | 2                   | 1024 МБ                   | 3984  | Размер ВМ Azure   |
| **DS4/DS13/F8S**                          | P20                     | 3                   | 1536 МБ                   | 3984  | Размер ВМ Azure   |
| **DS4/DS13/F8S**                          | P30                     | 1                   | 1024 МБ                   | 3112  | Диск P30        |
| **DS4/DS13/F8S**                          | P30                     | 2                   | 2048 МБ                   | 3984  | Размер ВМ Azure   |
| **DS4/DS13/F8S**                          | P30                     | 3                   | 3072 МБ                   | 3996  | Размер ВМ Azure   |
| **DS5/DS14/F16S**                         | P20                     | 1                   | 512 Мб                    | 2335  | Диск P20        |
| **DS5/DS14/F16S**                         | P20                     | 2                   | 1024 МБ                   | 4639  | Диск P20        |
| **DS5/DS14/F16S**                         | P20                     | 3                   | 1536 МБ                   | 6913  | Диск P20        |
| **DS5/DS14/F16S**                         | P20                     | 4                   | 2048 МБ                   | 7966  | Размер ВМ Azure   |
| **DS5/DS14/F16S**                         | P30                     | 1                   | 1024 МБ                   | 3112  | Диск P30        |
| **DS5/DS14/F16S**                         | P30                     | 2                   | 2048 МБ                   | 6182  | Диск P30        |
| **DS5/DS14/F16S**                         | P30                     | 3                   | 3072 МБ                   | 7963  | Размер ВМ Azure   |
| **DS5/DS14/F16S**                         | P30                     | 4                   | 4096 МБ                   | 7968  | Размер ВМ Azure   |
| **DS15**                                  | P30                     | 1                   | 1024 МБ                   | 3113  | Диск P30        |
| **DS15**                                  | P30                     | 2                   | 2048 МБ                   | 6184  | Диск P30        |
| **DS15**                                  | P30                     | 3                   | 3072 МБ                   | 9225  | Диск P30        |
| **DS15**                                  | P30                     | 4                   | 4096 МБ                   | 10200 | Размер ВМ Azure   |

## <a name="see-also"></a>См. также

- [Часто задаваемые вопросы об изменении размера и производительности сайта](../../understand/site-size-performance-faq.md)
- [Вопросы и ответы по использованию Configuration Manager в Azure](../../understand/configuration-manager-on-azure.md)
- [Данные по размерам и масштабированию](size-and-scale-numbers.md)
- [Рекомендуемое оборудование](recommended-hardware.md)

