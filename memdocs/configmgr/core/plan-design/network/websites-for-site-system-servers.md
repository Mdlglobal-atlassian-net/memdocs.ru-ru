---
title: Веб-сайты для систем сайтов
titleSuffix: Configuration Manager
description: Сведения о веб-сайтах по умолчанию и настраиваемых веб-сайтах для серверов системы сайта в Configuration Manager.
ms.date: 02/8/2017
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 681f0893-e83b-476e-9ec0-a5dc7c9deeb6
author: mestew
ms.author: mstewart
manager: dougeby
ms.openlocfilehash: 344ba7f6a6b0ee7683c3ac7661338f01be601a10
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81701452"
---
# <a name="websites-for-site-system-servers-in-configuration-manager"></a>Веб-сайты для серверов системы сайта в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Несколько ролей системы сайта Configuration Manager требуют наличия служб IIS и используют веб-сайт IIS по умолчанию для размещения служб системы сайта. Если на том же сервере требуется запускать другие веб-приложения, а параметры несовместимы с Configuration Manager, рассмотрите возможность использования настраиваемого веб-сайта для Configuration Manager.  

> [!TIP]  
>  Для обеспечения безопасности рекомендуется использовать выделенный сервер для систем сайта Configuration Manager, которым требуются службы IIS. Использование других приложений в системе сайта Configuration Manager повышает вероятность угроз безопасности для этого компьютера.  




##  <a name="what-to-know-before-choosing-to-use-custom-websites"></a><a name="BKMK_What2Know"></a> Что следует знать перед использованием настраиваемых веб-сайтов  
 По умолчанию роли системы сайта используют **веб-сайт по умолчанию** в службах IIS. Это настраивается автоматически при установке роли системы сайта. Однако на первичных сайтах вместо этого можно использовать настраиваемые веб-сайты. При использовании пользовательских веб-сайтов:  

-   Пользовательские веб-сайты включаются для всего сайта, а не для отдельных серверов или ролей системы сайта.  

-   На первичных сайтах для каждого компьютера, на котором будет размещена соответствующая роль системы сайта, необходимо настроить пользовательский веб-сайт с именем **SMSWEB**. До создания этого веб-сайта и настройки ролей системы сайта на этом компьютере для использования пользовательского веб-сайта клиенты не смогут взаимодействовать с ролями системы сайта на этом компьютере.  

-   Так как вторичные сайты автоматически настраиваются для использования пользовательского веб-сайта, если такую настройку имеет их первичный родительский сайт, необходимо также создать пользовательские веб-сайты в службах IIS на каждом сервере системы вторичного сайта, которому требуются службы IIS.  


  **Предварительные условия для использования настраиваемых веб-сайтов:**  

 Перед включением возможности использования пользовательских веб-сайтов на сайте необходимо:  

-   Создать пользовательский веб-сайт с именем **SMSWEB** в службах IIS на каждом сервере системы сайта, которому требуются службы IIS. Это необходимо сделать на первичном сайте и на всех дочерних вторичных сайтах.  

-   Задать для настраиваемого веб-сайта порты, указанные при настройке подключений клиентов Configuration Manager (порт для запросов клиента).  

-   Для каждого пользовательского веб-сайта или веб-сайта по умолчанию, использующего пользовательскую папку, поместите копию типа документа по умолчанию, который используется в корневой папке, содержащей этот веб-сайт. Например, на компьютере Windows Server 2008 R2 с конфигурациями по умолчанию **iisstart.htm** является одним из нескольких доступных типов документов по умолчанию. Вы можете найти этот файл в корневом каталоге веб-сайта по умолчанию, а затем поместить копию этого файла (или копию используемого типа документа по умолчанию) в корневую папку, в которой размещен настраиваемый веб-сайт SMSWEB. Дополнительные сведения о типах документов по умолчанию см. в разделе [Документ по умолчанию &lt;документ_по_умолчанию\> для служб IIS](https://www.iis.net/configreference/system.webserver/defaultdocument).  

**Требования к службам IIS.** 
**Следующие роли системы сайта требуют использования служб IIS и веб-сайта для размещения служб системы сайта:**  

-   Тточка веб-службы каталога приложений  

-   Точка веб-сайта каталога приложений  

-   Точка распространения  

-   Точка регистрации  

-   Прокси-точка регистрации.  

-   Резервная точка состояния  

-   Точка управления  

-   Точка обновления программного обеспечения  

-   точка миграции состояния,  

Дополнительные вопросы:  

-   Когда для первичного сайта включены пользовательские веб-сайты, клиенты, назначаемые этому сайту, взаимодействуют с пользовательскими веб-сайтами, а не с веб-сайтами по умолчанию на соответствующих серверах системы сайта.  

-   Если вы используете пользовательские веб-сайты для одного первичного сайта, рассмотрите возможность использования пользовательских веб-сайтов для всех первичных сайтов в иерархии, чтобы обеспечить беспроблемный роуминг клиентов в иерархии. (Роуминг — это перемещение клиентского компьютера в новый сегмент сети, управляемый другим сайтом. Роуминг может негативно повлиять на доступ клиента к локальным ресурсам, которые не требуют использования глобальной сети.)  

-   Роли системы сайта, использующие службы IIS и не принимающие подключения клиентов, такие как точка служб отчетов, также используют веб-сайт SMSWEB вместо веб-сайта по умолчанию.  

-   Для пользовательских веб-сайтов необходимо назначить номера портов, отличные от используемых веб-сайтом по умолчанию. Если веб-сайт по умолчанию и пользовательский веб-сайт пытаются использовать одинаковые порты TCP/IP, они не могут работать одновременно.  

-   Порты TCP/IP, настроенные в службах IIS для пользовательского веб-сайта, должны соответствовать портам запроса клиента для сайта.  

## <a name="switch-between-default-and-custom-websites"></a>Переключение между веб-сайтами по умолчанию и пользовательскими веб-сайтами  
Хотя вы можете в любое время установить или снять флажок для использования пользовательских веб-сайтов в качестве первичного сайта (на вкладке "Общие" в свойствах сайта), перед внесением такого изменения следует все тщательно взвесить. При подобном изменении конфигурации требуется удаление и переустановка всех применимых ролей системы сайта на первичном сайте и на дочерних вторичных сайтах.  

Следующие роли **переустанавливаются автоматически**:  

-   Точка управления  

-   Точка распространения  

-   Точка обновления программного обеспечения  

-   Резервная точка состояния  

-   точка миграции состояния,  

Следующие роли необходимо **переустановить вручную**.  

-   Тточка веб-службы каталога приложений  

-   Точка веб-сайта каталога приложений  

-   Точка регистрации  

-   Прокси-точка регистрации.  

Дополнительно  

-   При переключении с веб-сайта по умолчанию на настраиваемый веб-сайт Configuration Manager не удаляет старые виртуальные каталоги. Если необходимо удалить файлы, использовавшиеся в Configuration Manager, необходимо вручную удалить виртуальные каталоги, созданные для веб-сайта по умолчанию.  

-   При переключении сайта на использование пользовательских веб-сайтов необходимо перенастроить клиенты, уже назначенные сайту, для использования новых портов запроса клиентов для пользовательских веб-сайтов. См. [Настройка портов связи для клиентов](../../../core/clients/deploy/configure-client-communication-ports.md).  

## <a name="set-up-custom-websites"></a>Настройка пользовательских веб-сайтов  
Поскольку конкретные шаги по созданию пользовательского веб-сайта зависят от версии операционной системы, обратитесь к документации по используемой версии операционной системы и по мере возможности используйте следующие сведения:  

-   Веб-сайт должен иметь имя **SMSWEB**.  

-   При настройке протокола HTTPS необходимо указать SSL-сертификат, прежде чем сохранять конфигурацию.  

-   После создания пользовательского веб-сайта удалите порты пользовательского веб-сайта, используемые с других веб-сайтов в службах IIS.  

    1.  Измените **привязки** других веб-сайтов, чтобы удалить порты, которые совпадают с назначенными веб-сайту **SMSWEB**.  

    2.  Запустите веб-сайт **SMSWEB**.  

    3.  Перезапустите службу **SMS_SITE_COMPONENT_MANAGER** на сервере сайта.  
