---
title: Планирование отчетов
titleSuffix: Configuration Manager
description: 'При планировании отчетов в Configuration Manager необходимо учесть все аспекты: от параметров установки до безопасности и пропускной способности сети.'
ms.date: 04/01/2020
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: ff920c84-d5c8-458c-b67f-bc7219b05690
author: aczechowski
manager: dougeby
ms.author: aaroncz
ms.openlocfilehash: 2621a6a364734a1146700aa8eef8fded3a6e58ab
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81694372"
---
# <a name="plan-for-reporting-in-configuration-manager"></a>Планирование создания отчетов в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Службы отчетов в Configuration Manager включают набор средств и ресурсов, которые позволяют использовать дополнительные возможности служб SQL Server Reporting Services или сервера отчетов Power BI. В следующих разделах содержатся сведения о планировании создания отчетов в Configuration Manager.

## <a name="where-to-install-the-reporting-services-point"></a>Место установки точки служб отчетов

Отчеты Configuration Manager, выполняющиеся на сайте, имеют доступ к сведениям в базе данных сайта, к которой они подключаются. В следующих разделах содержатся сведения о выборе места установки точки служб отчетов и выборе используемого источника данных.

> [!NOTE]
> Дополнительные сведения о планировании систем сайта в Configuration Manager см. в разделе [Добавление ролей системы сайта](../deploy/configure/add-site-system-roles.md).

### <a name="supported-site-system-servers"></a>Поддерживаемые серверы систем сайтов

Точку служб отчетов можно установить на сайте центра администрирования (CAS) или первичном сайте. Она работает на нескольких системах сайта и на других сайтах в иерархии. Configuration Manager не поддерживает точки служб отчетов на вторичных сайтах. Первая точка служб отчетов на сайте настраивается как сервер отчетов по умолчанию. На сайт можно добавить дополнительные точки служб отчетов, однако для отчетов Configuration Manager на каждом сайте будет активно использоваться заданный по умолчанию сервер отчетов. Точку служб отчетов можно установить на сервере сайта или в удаленной системе сайта. Для обеспечения оптимальной производительности используйте службы SQL Server Reporting Services на удаленном сервере системы сайта.

### <a name="data-replication-considerations"></a>Рекомендации относительно репликации данных

При выборе места установки точек служб отчетов рекомендуется принять во внимание следующие факторы.

- Точка служб отчетов с базой данных сайта CAS в качестве источника данных для отчетов имеет доступ ко всем глобальным данным и данным сайта в иерархии Configuration Manager. Если требуются отчеты, содержащие данные с нескольких сайтов в иерархии, рассмотрите возможность установки точки служб отчетов в системе сайта на сайте CAS. Затем используйте его базу данных в качестве источника данных отчетов.

- Точка служб отчетов с базой данных дочернего первичного сайта в качестве источника данных для отчетов имеет доступ ко всем глобальным данным и данным сайта только для локального первичного сайта и всех дочерних вторичных сайтов. Данные для других первичных сайтов в иерархии Configuration Manager не реплицируются на этот первичный сайт. Службы Reporting Services не могут получить доступ к данным для других первичных сайтов. Если требуются отчеты, которые содержат данные сайта для конкретного первичного сайта или глобальные данные, но пользователь отчетов не должен иметь доступ к данным сайта с других первичных сайтов, установите точку служб отчетов в системе сайта на первичном сайте и используйте базу данных первичного сайта. Затем используйте ее же в качестве источника данных отчетов.

Дополнительные сведения о глобальных данных и данных сайта см. в разделе [Типы данных](../../plan-design/hierarchy/database-replication.md#types-of-data).

### <a name="network-bandwidth-considerations"></a>Рекомендации относительно пропускной способности сети

В зависимости от настройки сайта взаимодействие систем сайта в пределах сайта осуществляется с помощью протоколов SMB, HTTP или HTTPS. Configuration Manager не управляет этим обменом данными. Он может происходить в любое время без контроля пропускной способности сети. Перед установкой роли точки служб отчетов в системе сайта проверьте доступную пропускную способность сети.

Дополнительные сведения о планировании систем сайта см. в разделе [Добавление ролей системы сайта](../deploy/configure/add-site-system-roles.md).

## <a name="plan-for-role-based-administration"></a>Планирование ролевого администрирования

Безопасность отчетов обеспечивается аналогично безопасности других объектов в Configuration Manager, где пользователям можно назначать роли и разрешения безопасности. Пользователи с правами администратора могут выполнять и изменять те отчеты, для которых у них есть соответствующие права безопасности. Для выполнения отчетов в консоли Configuration Manager пользователям требуется право **Чтение** для объекта **Сайт** и разрешения, настроенные для определенных объектов.

В отличие от других объектов в Configuration Manager права безопасности, задаваемые пользователям в консоли Configuration Manager, также настраиваются в службах отчетов. При настройке прав безопасности в консоли Configuration Manager точка служб отчетов подключается к службам отчетов и задает соответствующие разрешения для отчетов.

Например, роль безопасности **Менеджер обновления программного обеспечения** имеет разрешения **Выполнить отчет** и **Изменить отчет**. Пользователи, которым назначена роль **Менеджер обновления программного обеспечения**, могут только выполнять и изменять отчеты для обновлений программного обеспечения. Отчеты для других объектов не отображаются в консоли Configuration Manager для этой роли. Исключением здесь будут некоторые отчеты, не связанные с конкретными защищаемыми объектами Configuration Manager. Для выполнения таких отчетов пользователь должен иметь право **Чтение** для разрешения **Сайт**, а для изменения — право **Изменение** для разрешения **Сайт**.  

> [!IMPORTANT]
> Чтобы запустить отчет, нужно установить двустороннее отношение доверия между доменом пользователей и доменом, в котором находится учетная запись точки служб отчетов.

Отчеты полностью включены для ролевого администрирования. В Configuration Manager данные для всех включенных отчетов фильтруются в соответствии с разрешениями пользователя с правами администратора, который запускает отчет. Пользователи с определенными ролями могут только просматривать информацию, определенную для их роли.

Дополнительные сведения о правах безопасности для отчетов см. в разделе [Настройка отчетов](configuring-reporting.md).

Дополнительные сведения о ролевом администрировании в Configuration Manager см. в разделе [Настройка ролевого администрирования](../deploy/configure/configure-role-based-administration.md).

## <a name="reporting-recommendations"></a>Рекомендации по отчетам

Примите во внимание следующие рекомендации и советы по созданию отчетов в Configuration Manager.

- Для обеспечения оптимальной производительности точку служб отчетов рекомендуется установить на удаленной системе сайта. Хотя ее можно установить на сервере сайта, точка служб отчетов лучше работает при установке на удаленной системе сайта. Если эта роль использует фоновую обработку, она может конкурировать за системные ресурсы с другими ролями. Существует много факторов, которые следует учитывать при работе сайта и роли, но в целом такая конфигурация повышает эффективность создания отчетов и общую производительность сайта.

- Оптимизируйте запросы служб SQL Server Reporting Services. Как правило, задержки при создании отчетов возникают из-за времени, которое требуется на выполнение запросов и получение результатов. При использовании Microsoft SQL Server оптимизировать работу с запросами помогут такие средства, как профилировщик и анализатор запросов.

- Планируйте выполнение обработки подписок на отчеты в нерабочее время. Если это возможно, обработка подписок в нерабочее время может максимально сокращать нагрузку на ЦП на сервере базы данных Configuration Manager сайта. Кроме того, повысится доступность непредсказуемых запросов отчетов.

- При обновлении сайта встроенные отчеты сохраняются. При изменении стандартного отчета и обновлении сайта отчет переименовывается с добавлением символа подчеркивания в качестве префикса (`_`). Такое поведение гарантирует, что при обновлении сайта измененный отчет не перезапишется стандартным.

## <a name="security-and-privacy"></a>Безопасность и конфиденциальность

Отчеты Configuration Manager содержат данные, собранные во время стандартных операций управления Configuration Manager. Например, можно отобразить отчет с данными, собранными Configuration Manager в ходе операций обнаружения или инвентаризации. Кроме того, отчеты могут содержать сведения о текущем состоянии операций управления клиентами, таких как развертывание программного обеспечения и проверка соответствия требованиям.

Дополнительные сведения о рекомендациях по обеспечению безопасности и конфиденциальности операций Configuration Manager, которые могут использоваться для сбора данных, включаемых в отчеты, см. в разделе [Безопасность и конфиденциальность в Configuration Manager](../../plan-design/security/security-and-privacy.md).  

## <a name="next-steps"></a>Дальнейшие шаги

[Необходимые условия для создания отчетов](prerequisites-for-reporting.md)
