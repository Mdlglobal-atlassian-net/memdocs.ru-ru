---
title: Миграция объектов
titleSuffix: Configuration Manager
description: Узнайте, как спланировать перенос объектов между иерархиями в среде Configuration Manager (Current Branch).
ms.date: 01/12/2017
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 066caf00-e419-4efb-93d3-ba4ba878297c
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 93c3887307c32ea636a6dbb064cda13f4b9130c6
ms.sourcegitcommit: 214fb11771b61008271c6f21e17ef4d45353788f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82905133"
---
# <a name="plan-for-the-migration-of-configuration-manager-objects-to-configuration-manager-current-branch"></a>Планирование миграции объектов Configuration Manager в Configuration Manager (Current Branch)

*Область применения: Configuration Manager (Current Branch)*

С помощью Configuration Manager (Current Branch) можно переносить множество разных объектов, которые связаны с разными функциями, имеющимися на исходном сайте.

##  <a name="plan-to-migrate-software-updates"></a><a name="Plan_migrate_Software_updates"></a> Планирование миграции обновлений программного обеспечения  
 Поддерживается миграция объектов обновлений программного обеспечения, таких как пакеты обновлений ПО и развертывания обновлений ПО.  

 Для успешного переноса объектов обновлений ПО необходимо сначала настроить в конечной иерархии конфигурации, которые соответствуют конкретной среде исходной иерархии. Для этого необходимо выполнить следующие действия:  

-   развернуть активную точку обновления программного обеспечения в конечной иерархии;  

-   настроить каталог продуктов и языков в соответствии с конфигурацией исходной иерархии;  

-   синхронизировать точку обновления программного обеспечения в конечной иерархии со службами Windows Server Update Services (WSUS).  

При миграции обновлений программного обеспечения необходимо учитывать следующие аспекты.  

-   Миграция объектов обновлений ПО может завершиться неудачей, если не синхронизировать данные в конечной иерархии с конфигурацией исходной иерархии.  

    > [!WARNING]  
    >  Configuration Manager не поддерживает использование средства WSUSutil для синхронизации данных между исходной и конечной иерархиями.  

-   Миграция пользовательских обновлений, опубликованных с помощью System Center Updates Publisher (SCUP), не поддерживается. Такие пользовательские обновления необходимо опубликовать в конечной иерархии повторно.  

При миграции из исходной иерархии Configuration Manager 2007 процесс миграции преобразует некоторые объекты обновлений программного обеспечения в формат, используемый конечной иерархией. Информация в приведенной ниже таблице будет полезна при планировании миграции объектов обновлений ПО из Configuration Manager 2007.  

|Объект Configuration Manager 2007|Имя объекта после миграции|  
|-----------------------------------|---------------------------------|  
|Списки обновлений программного обеспечения|Списки обновлений программного обеспечения преобразуются в группы обновлений программного обеспечения.|  
|Развертывания обновлений программного обеспечения|Развертывания обновлений программного обеспечения преобразуются в развертывания и группы обновлений.<br /><br /> Завершив перенос развертывания обновлений программного обеспечения из Configuration Manager 2007, необходимо включить его в конечной иерархии, прежде чем можно будет приступать к развертыванию.|  
|Пакеты обновлений программного обеспечения|Пакеты обновлений программного обеспечения остаются пакетами обновлений программного обеспечения.|  
|Шаблоны обновлений программного обеспечения|Шаблоны обновлений программного обеспечения остаются шаблонами обновлений программного обеспечения.<br /><br /> Значение **Продолжительность** в шаблонах развертывания Configuration Manager 2007 не переносится.|  

При переносе объектов из исходной иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch) объекты обновлений ПО не изменяются.  

##  <a name="plan-to-migrate-content"></a><a name="Plan_Migrate_content"></a> Планирование миграции содержимого  
 Контент можно переносить из поддерживаемой исходной иерархии в конечную иерархию. В исходной иерархии Configuration Manager 2007 это содержимое включает пакеты распространения программного обеспечения, программы и виртуальные приложения, такие как Microsoft Application Virtualization (App-V). В исходных иерархиях System Center 2012 Configuration Manager и Configuration Manager (Current Branch) это содержимое включает приложения и виртуальные приложения App-V. При миграции содержимого между иерархиями в конечную иерархию переносятся сжатые исходные файлы.  

### <a name="packages-and-programs"></a>Пакеты и программы  
 При переносе пакетов и программ они не изменяются в ходе миграции. Тем не менее, прежде чем приступать к миграции этих компонентов, необходимо задать для каждого пакета универсальный UNC-путь к расположению исходных файлов. В рамках настройки миграции пакетов и программ необходимо назначить в конечной иерархии сайт для управления этим контентом. Содержимое не переносится из назначенного сайта, но после миграции назначенный сайт получает доступ к первоначальному расположению исходных файлов, используя сопоставление UNC.  

 После переноса пакета и программы в конечную иерархию, пока миграция из исходной иерархии остается активной, можно сделать содержимое доступным для клиентов в этой иерархии с помощью общей точки распространения. Для использования общей точки распространения контент должен быть доступен в точке распространения на исходном сайте. Дополнительные сведения об общих точках распространения см. в подразделе [Совместное использование точек распространения в исходной и конечной иерархии](../../core/migration/planning-a-content-deployment-migration-strategy.md#About_Shared_DPs_in_Migration) раздела [Планирование стратегии миграции развертывания содержимого](../../core/migration/planning-a-content-deployment-migration-strategy.md).  

 Если после завершения миграции содержимого его версия меняется в исходной или конечной иерархии, клиенты больше не смогут получать доступ к нему из общей точки распространения в конечной иерархии. В этом случае необходимо выполнить повторную миграцию содержимого, чтобы восстановить согласованность версий пакета в исходной иерархии и в точке распространения. Этот информация синхронизируется во время цикла сбора данных.  

> [!TIP]  
>  Для каждого переносимого пакета обновите пакет в конечной иерархии. Это помогает избежать проблем при развертывании пакета на точках распространения в конечной иерархии. Но при обновлении пакета на точке распространения в конечной иерархии клиенты в этой иерархии больше не смогут получить этот пакет из общей точки распространения. Чтобы обновить пакет в конечной иерархии, перейдите в консоли Configuration Manager к библиотеке программного обеспечения, щелкните пакет правой кнопкой мыши и выберите пункт **Обновить точки распространения**. Выполните это действие для каждого переносимого пакета.  

> [!TIP]  
> Используйте диспетчер преобразования пакетов для преобразования пакетов и программ в приложения Configuration Manager. Дополнительные сведения см. в разделе [Диспетчер преобразования пакетов](../../apps/pcm/package-conversion-manager.md).  

### <a name="virtual-applications"></a>Виртуальные приложения  
При переносе пакетов App-V с поддерживаемого сайта Configuration Manager 2007 процесс миграции преобразует их в приложения в конечной иерархии. Кроме того, в зависимости от текущих объявлений для пакетов App-V в конечной иерархии создаются следующие типы развертываний.  

-   Если объявлений не существует, создается один тип развертывания, использующий параметры типа развертывания по умолчанию.  

-   Если существует одно объявление, создается один тип развертывания, использующий те же параметры, что и объявление Configuration Manager 2007.  

-   Если существует несколько объявлений, тип развертывания создается для каждого объявления Configuration Manager 2007 на основе параметров этого объявления.  

> [!IMPORTANT]  
>  Если выполняется миграция ранее перенесенного пакета App-V для Configuration Manager 2007, происходит сбой, так как пакеты виртуальных приложений не поддерживают возможность перезаписи при миграции. В этом случае необходимо удалить перенесенный пакет виртуального приложения из конечной иерархии, а затем создать новое задание миграции для переноса виртуального приложения.  

> [!NOTE]  
>  После миграции пакета App-V можно использовать мастер обновления содержимого для изменения исходного пути типов развертывания App-V. Дополнительные сведения об обновлении содержимого для типа развертывания см. в подразделе "Управление типами развертываний" раздела [Задачи управления для приложений Configuration Manager](../../apps/deploy-use/management-tasks-applications.md).  

При миграции из исходной иерархии System Center 2012 Configuration Manager или Configuration Manager(Current Branch), помимо типов развертывания и приложений App-V, можно перенести объекты для виртуальной среды App-V. Дополнительные сведения о средах App-V см. в разделе [Развертывание виртуальных приложений App-V](../../apps/get-started/deploying-app-v-virtual-applications.md).  

### <a name="advertisements"></a>Объявления  
Объявления можно перенести с поддерживаемого исходного сайта Configuration Manager 2007 в конечную иерархию, используя миграцию на основе коллекций. При обновлении клиента он сохраняет журнал ранее выполнявшихся объявлений, чтобы предотвратить повторный запуск перенесенных объявлений.  

> [!NOTE]  
>  Нельзя выполнить миграцию объявлений для виртуальных пакетов. Это исключение механизма миграции объявлений.  

### <a name="applications"></a>Приложения  
 Приложения можно перенести из поддерживаемой исходной иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch) в конечную иерархию. Если переназначить клиент из исходной иерархии в конечную, то он сохраняет журнал ранее установленных приложений, чтобы не перенесенные приложения не перезапускались.  

##  <a name="plan-to-migrate-collections"></a><a name="BKMK_MigrateCollections"></a> Планирование миграции коллекций  
 Критерии для коллекций можно перенести из поддерживаемой исходной иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch). Для этого используется задание миграции на основе объектов. При переносе коллекции выполняется перенос правил коллекции, а не сведений о членах коллекции или данных и объектов, связанных с членами коллекции.  

 Перенос объекта коллекции не поддерживается при переносе из исходной иерархии Configuration Manager 2007.  

##  <a name="plan-to-migrate-operating-system-deployments"></a><a name="Plan_migrate_OSD"></a> Планирование миграции развертываний операционной системы  
Из поддерживаемой исходной иерархии можно перенести объекты развертывания следующих операционных систем:  

-   Образы и пакеты операционной системы. Исходные пути загрузочных образов обновляются с указанием расположения образа по умолчанию для пакета Windows AIK на конечном сайте. Ниже приведены требования и ограничения на миграцию образов операционных систем и пакетов.  

    -   Для успешной миграции файлов образов учетная запись компьютера сервера поставщика SMS для сайта верхнего уровня конечной иерархии должна иметь разрешение на **чтение** и **запись** для доступа к исходным файлам образов в расположении Windows AIK на исходном сайте.  

    -   Выполняя миграцию пакета установки операционной системы, убедитесь в том, что конфигурация пакета в исходном сайте указывает на папку, содержащую WIM-файл, а не на сам WIM-файл. Если пакет установки указывает на WIM-файл, произойдет сбой миграции пакета установки.  

    -   При переносе пакета образа загрузки с исходного сайта Configuration Manager 2007 идентификатор пакета не сохраняется на конечном сайте. В результате клиенты в конечной иерархии не могут использовать пакеты загрузочных образов, доступные в общей точке распространения.  

-   Последовательности задач. При миграции последовательности задач, содержащей ссылку на пакет установки клиента, такая ссылка заменяется ссылкой на пакет установки клиента в конечной иерархии.  

    > [!NOTE]  
    >  При переносе последовательности задач Configuration Manager может перенести объекты, которые не являются обязательными в конечной иерархии. К ним относятся образы загрузки и пакеты установки клиента Configuration Manager 2007.  

-   Драйверы и пакеты драйверов. Когда вы переносите пакеты драйверов, учетная запись компьютера поставщика SMS в конечной иерархии должна иметь полный доступ к источнику пакета.

##  <a name="plan-to-migrate-desired-configuration-management"></a><a name="Plan_Migrate_Compliance_settings"></a> Планирование миграции управления требуемой конфигурацией  
Можно выполнить миграцию элементов конфигурации и шаблонов базовой конфигурации.  

> [!NOTE]  
>  Миграция неинтерпретированных элементов конфигурации из исходных иерархий Configuration Manager 2007 не поддерживается. Такие элементы конфигурации нельзя перенести или импортировать в конечную иерархию. Дополнительные сведения о неинтерпретированных элементах конфигурации см. в подразделе "Неопознанный элемент конфигурации" раздела [Об элементах конфигурации в управлении требуемой конфигурацией](https://docs.microsoft.com/previous-versions/system-center/configuration-manager-2007/bb694136(v=technet.10)#uninterpreted-configuration-item) в библиотеке документации по Configuration Manager 2007.  

Вы можете импортировать пакеты конфигурации Configuration Manager 2007. В процессе импорта пакет конфигурации автоматически преобразуется для обеспечения его совместимости с Configuration Manager (Current Branch).  

##  <a name="plan-to-migrate-boundaries"></a><a name="Plan_migrate_Boundaries"></a> Планирование миграции границ  
 Можно выполнить миграцию границ между иерархиями. При переносе границ из Configuration Manager 2007 все границы исходного сайта переносятся одновременно и добавляются в новую группу границ, созданную в конечной иерархии. При переносе границ из иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch) каждая выбранная граница добавляется в новую группу границ в конечной иерархии.  

 Каждая автоматически создаваемая группа границ включается для размещения контента, но не для назначения сайта. Это позволяет предотвратить перекрытие границы для назначения сайта между исходной и конечной иерархиями. При миграции с исходного сайта Configuration Manager 2007 это позволяет предотвратить ошибочную привязку новых клиентов Configuration Manager 2007 к конечной иерархии. По умолчанию клиенты Configuration Manager (Current Branch) не назначаются автоматически сайтам Configuration Manager 2007.  

 Если во время миграции создается общая точка распространения для конечной иерархии, все границы, которые связаны с этой точкой, автоматически переносятся в конечную иерархию. В конечной иерархии при миграции для каждой общей точки распространения создается новая группа границ только для чтения. При изменении границ для точки распространения в исходной иерархии группа границ в конечной иерархии получает эти изменения во время следующего цикла сбора данных.  

##  <a name="plan-to-migrate-reports"></a><a name="Plan_Migrate_reports"></a> Планирование миграции отчетов  
Configuration Manager не поддерживает миграцию отчетов. Для экспорта отчетов из исходной иерархии и последующего их импорта в конечную иерархию необходимо использовать построитель отчетов для служб отчетов Microsoft SQL Server.  

> [!NOTE]  
>  В силу различий в схемах отчетов между Configuration Manager 2007 и Configuration Manager (Current Branch) следует протестировать каждый импортируемый из иерархии Configuration Manager 2007 отчет, чтобы убедиться в том, что он работает ожидаемым образом.  

Дополнительные сведения об отчетах см. в разделе [Общие сведения об отчетах](../servers/manage/introduction-to-reporting.md).  

##  <a name="plan-to-migrate-organizational-and-search-folders"></a><a name="Plan_Migrate_Org_Folders"></a> Планирование миграции папок поиска и организационной структуры  
 Организационные папки и папки поиска можно перенести из поддерживаемой исходной иерархии в конечную. Кроме того, из исходной иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch) вы можете перенести условия сохраненного поиска в конечную иерархию.  

 По умолчанию в процессе миграции структура папок поиска и административных папок для объектов и коллекций сохраняется. При этом в мастере создания заданий миграции, сняв соответствующий флажок на странице **Параметры**, можно запретить заданию миграции переносить организационную структуру для объектов. Организационные структуры коллекций сохраняются всегда.  

 Единственное исключение предусмотрено для папок поиска, содержащих виртуальные приложения. При миграции пакета App-V такой пакет преобразуется в приложение в Configuration Manager. После завершения переноса папки поиска обнаруживаются только оставшиеся пакеты, однако пакет App-V найти не удается, так как при миграции он преобразуется в приложение.  

 При миграции сохраненного поиска из исходной иерархии System Center 2012 Configuration Manager или Configuration Manager (Current Branch) выполняется перенос условий для поиска, а не сведений о результатах поиска. Миграция сохраненного поиска с исходного сайта Configuration Manager 2007 невозможна.  

##  <a name="plan-to-migrate-asset-intelligence-customizations"></a><a name="Plan_Migrate_AI"></a> Планирование миграции настроек аналитики активов  
 Настройки аналитики активов можно перенести из поддерживаемой исходной иерархии в конечную. Структура настроек аналитики активов не подверглась значительному изменению в Configuration Manager 2007 по сравнению с Configuration Manager (Current Branch).  

> [!NOTE]  
> Configuration Manager (Current Branch) не поддерживает перенос объектов аналитики активов с сайта Configuration Manager 2007, использующего службу Asset Intelligence Service 2.0 (AIS 2.0).  

##  <a name="plan-to-migrate-software-metering-rules-customizations"></a><a name="Plan_Migrate_SWM_Rules"></a> Планирование миграции настроек для правил контроля использования программных продуктов  
 Функция контроля использования программных продуктов не подверглась значительному изменению в Configuration Manager 2007 по сравнению с Configuration Manager (Current Branch). Правила контроля использования программных продуктов можно перенести из поддерживаемой исходной иерархии в конечную.  

 По умолчанию правила контроля использования программных продуктов, переносимые в конечную иерархию, не связываются с конкретным сайтом в конечной иерархии, а применяются для всех клиентов в этой иерархии. Чтобы применить правило для клиентов в определенном сайте, необходимо изменить правило после переноса.  
