---
title: Миграция данных
titleSuffix: Configuration Manager
description: Узнайте, как передать данные из исходной в конечную иерархию Configuration Manager.
ms.date: 11/05/2018
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: cf014eb0-f8c2-4d37-b8d7-368d63a10b89
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: a3771011f2822bb93a9569ec534b77259e2e8dc3
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81701752"
---
# <a name="migrate-data-between-hierarchies-in-configuration-manager"></a>Перенос данных между иерархиями в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Используйте миграцию данных для их передачи из поддерживаемой исходной иерархии в конечную иерархию Configuration Manager (Current Branch). При переносе данных из исходной иерархии происходит следующее:  

- Осуществляется доступ к данным из баз данных сайта в исходной инфраструктуре с последующей их передачей в текущую среду.  

- Миграция не изменяет данные в исходной иерархии. Вместо этого выполняется обнаружение данных и сохранение их копии в базе данных конечной иерархии.  

При планировании стратегии миграции необходимо учитывать следующие аспекты.  

- Вы можете перенести существующую инфраструктуру Configuration Manager 2007 с пакетом обновления 2 (SP2) в Configuration Manager (Current Branch).  

- Некоторые или все поддерживаемые данные можно перенести из исходного сайта.  

- Можно выполнить перенос данных из одного исходного сайта в различные сайты конечной иерархии.  

- Данные можно перемещать из нескольких исходных сайтов на один сайт в конечной иерархии.  


В видеоролике ниже обсуждаются и демонстрируются два распространенных [сценария миграции](#BKMK_MigrationScenarios). Кроме того, в планы миграции можно включить Microsoft Azure.
> [!VIDEO https://www.youtube.com/embed/6_0EwW-5b4E]



##  <a name="concepts"></a><a name="BKMK_MigrationConcepts"></a> Понятия  

 В Configuration Manager используются следующие основные понятия и термины в процессе миграции.  

#### <a name="source-hierarchy"></a>Исходная иерархия
Иерархия, работающая под управлением поддерживаемой версии Configuration Manager и содержащая данные, которые требуется перенести. При настройке миграции вы указываете исходную иерархию во время задания сайта верхнего уровня исходной иерархии. После выбора исходной иерархии сайт верхнего уровня конечной иерархии выполняет сбор данных из базы данных назначенного исходного сайта для определения данных, которые можно перенести. 

Дополнительные сведения см. в разделе [Исходные иерархии](planning-a-source-hierarchy-strategy.md#BKMK_Source_Hierarchies).

#### <a name="source-sites"></a>Исходные сайты
Сайты в исходной иерархии, содержащие данные, которые можно перенести в конечную иерархию. 

Дополнительные сведения см. в разделе [Исходные сайты](planning-a-source-hierarchy-strategy.md#BKMK_Source_Sites).

#### <a name="destination-hierarchy"></a>Конечная иерархия
Иерархия Configuration Manager (Current Branch), где выполняется миграция для импорта данных из исходной иерархии.

#### <a name="data-gathering"></a>Сбор данных
Текущий процесс идентификации данных в исходной иерархии, которые можно перенести в конечную иерархию. Configuration Manager проверяет исходную иерархию по расписанию. Этот процесс позволяет определить наличие изменений в данных в исходной иерархии, которые уже были перенесены и которые требуется обновить в конечной иерархии.

Дополнительные сведения см. в разделе [Сбор данных](planning-a-source-hierarchy-strategy.md#BKMK_Data_Gathering).

#### <a name="migration-jobs"></a>Задания миграции
Процесс настройки определенных объектов для миграции и последующее управление миграцией таких объектов в конечную иерархию.

Дополнительные сведения см. в разделе [Планирование стратегии заданий миграции](planning-a-migration-job-strategy.md).

#### <a name="client-migration"></a>Миграция клиентов
Процесс передачи данных, используемых клиентскими системами, из исходной базы данных исходного сайта в базу данных конечной иерархии. После этой миграции данных выполняется обновление клиентского программного обеспечения на устройствах до версии клиентского программного обеспечения из конечной иерархии.

Дополнительные сведения см. в разделе [Планирование стратегии миграции клиента](planning-a-client-migration-strategy.md).

#### <a name="shared-distribution-points"></a>Общие точки распространения
Точки распространения из исходной иерархии, которые используются Configuration Manager совместно с конечной иерархией в течение периода миграции.

В ходе миграции клиенты, назначенные сайтам конечной иерархии, могут получать содержимое из общих точек распространения.

Дополнительные сведения см. в разделе [Совместное использование точек распространения в исходной и конечной иерархиях](planning-a-content-deployment-migration-strategy.md#About_Shared_DPs_in_Migration).

#### <a name="monitoring-migration"></a>Мониторинг миграции
Процесс отслеживания действий миграции. Мониторинг процесса и успешности миграции ведется в узле **Миграция** рабочей области **Администрирование**.

Дополнительные сведения см. в разделе [Планирование отслеживания действий миграции](planning-to-monitor-migration-activity.md).

#### <a name="stop-gathering-data"></a>Остановка сбора данных
Процесс остановки сбора данных из исходных сайтов. Если больше нет данных, которые требуется переносить из исходной иерархии, или если требуется временно прекратить действия, связанные с миграцией, можно настроить в конечной иерархии останов сбора данных из исходной иерархии.

Дополнительные сведения см. в разделе [Сбор данных](planning-a-source-hierarchy-strategy.md#BKMK_Data_Gathering).

#### <a name="clean-up-migration-data"></a>Очистка данных миграции
Процесс завершения миграции из исходной иерархии путем удаления сведений о миграции из базы данных конечных иерархий.

Дополнительные сведения см. в разделе [Планирование завершения миграции](planning-to-complete-migration.md).



## <a name="typical-workflow"></a>Типичный рабочий процесс  

Чтобы настроить рабочий процесс для миграции, выполните указанные ниже действия.

1.  Укажите поддерживаемую исходную иерархию.  

2.  Настройте сбор данных. Сбор данных позволяет Configuration Manager провести сбор информации о данных, которые могут быть перенесены из исходной иерархии.  

     Configuration Manager автоматически повторяет этот процесс для сбора данных по простому расписанию до тех пор, пока вы не остановите процесс сбора данных. По умолчанию процесс сбора данных повторяется каждые четыре часа, чтобы Configuration Manager удалось выявить изменения в данных исходной иерархии. Сбор данных также необходим для предоставления общего доступа к точкам распространения.  

3.  Создайте задания миграции для переноса данных между исходной и конечной иерархиями.  

4.  Сбор данных можно остановить в любой момент с помощью действия **Остановить сбор данных**. При этом Configuration Manager больше не идентифицирует изменения в данных исходной иерархии и больше нельзя совместно использовать точки распространения. Как правило, это действие выполняется, если вы больше не планируете переносить данных или совместно использовать точки распространения в исходной иерархии.  

5.  При необходимости после остановки сбора данных на всех сайтах в исходной иерархии можно очистить перенесенные данные с помощью действия **Очистить данные переноса**. Это действие удаляет данные журналов о миграции из исходной иерархии в базе данных конечной иерархии.  

После переноса данных из исходной иерархии, которая больше не требуется для управления устройствами в среде, можно запланировать вывод этой иерархии и инфраструктуры из использования.  



##  <a name="scenarios"></a><a name="BKMK_MigrationScenarios"></a> Сценарии  

 В Configuration Manager поддерживаются перечисленные ниже сценарии миграции.
- [Миграция из иерархий Configuration Manager 2007](#bkmk_2007)  
- [Миграция из Configuration Manager 2012 или другой иерархии Configuration Manager](#bkmk_2012)

> [!NOTE]  
>  Расширение иерархии, содержащей автономный сайт, в иерархию, которая содержит сайт центра администрирования, нельзя классифицировать как миграцию. Дополнительные сведения о расширении иерархии см. в статье [Расширение автономного первичного сайта](../servers/deploy/install/use-the-setup-wizard-to-install-sites.md#bkmk_expand).  


### <a name="migration-from-configuration-manager-2007-hierarchies"></a><a name="bkmk_2007"></a> Миграция из иерархий Configuration Manager 2007  

 При использовании миграции для переноса данных из Configuration Manager 2007 можно сохранить инвестиции в существующую инфраструктуру сайта и получить указанные ниже преимущества.  

#### <a name="site-database-improvements"></a>Улучшения базы данных сайта
База данных Configuration Manager (Current Branch) поддерживает полную кодировку Юникода.

#### <a name="database-replication-between-sites"></a>Репликация баз данных между сайтами
Репликация в Configuration Manager (Current Branch) основана на Microsoft SQL Server. Этот режим повышает производительность межсайтовой передачи данных.

#### <a name="user-centric-management"></a>Ориентированное на пользователей управление
Задачи управления в Configuration Manager (Current Branch) ориентированы на пользователей. Например, можно передать программное обеспечение пользователю, даже не зная имени его устройства. Кроме того, Configuration Manager предоставляет пользователям дополнительный контроль в плане выбора устанавливаемого на устройства ПО и времени его установки.

#### <a name="hierarchy-simplification"></a>Упрощение иерархии
Configuration Manager (Current Branch) позволяет создавать упрощенную иерархию сайтов. Это улучшение связано с появлением нового типа сайта центра администрирования и изменениями в режимах работы первичного и вторичного сайта. Configuration Manager (Current Branch) использует меньше ресурсов сети и меньшее количество серверов, чем предыдущие версии.

#### <a name="role-based-administration"></a>Администрирование на основе ролей
Эта централизованная модель безопасности в Configuration Manager (Current Branch) обеспечивает функции управления и обеспечения безопасности для всей иерархии в соответствии с потребностями администрирования и бизнеса.

> [!NOTE]  
>  Из-за изменений, появившихся в System Center 2012 Configuration Manager, Configuration Manager 2007 нельзя обновить до Configuration Manager (Current Branch). Поддерживается обновление System Center 2012 Configuration Manager до Configuration Manager (Current Branch) на месте.  


### <a name="migration-from-configuration-manager-2012-or-another-configuration-manager-hierarchy"></a><a name="bkmk_2012"></a> Миграция из Configuration Manager 2012 или другой иерархии Configuration Manager  
 Процесс переноса данных из иерархии System Center 2012 Configuration Manager или Configuration Manager аналогичен. Этот процесс включает миграцию данных из нескольких исходных иерархий в одну конечную. Этот процесс можно использовать, если ваша организация приобретает дополнительные ресурсы, которые уже управляются Configuration Manager. Кроме того, можно выполнить перенос данных из тестовой среды в рабочую среду Configuration Manager. Это позволяет сохранить инвестиции в тестовую среду Configuration Manager.  



## <a name="see-also"></a>См. также  

-   [Планирование миграции в Configuration Manager](planning-for-migration.md)  

-   [Настройка исходных иерархий и исходных сайтов для миграции](configuring-source-hierarchies-and-source-sites-for-migration.md)  

-   [Операции для миграции](operations-for-migration.md)  

-   [Безопасность и конфиденциальность при миграции](security-and-privacy-for-migration.md)  

-   [Начало использования Configuration Manager](../servers/deploy/start-using.md)
