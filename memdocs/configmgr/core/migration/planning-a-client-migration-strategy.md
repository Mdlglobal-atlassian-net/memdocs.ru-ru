---
title: Планирование миграции клиентов
titleSuffix: Configuration Manager
description: Сведения о задачах по переносу клиентов из исходной в конечную иерархию Configuration Manager (Current Branch).
ms.date: 12/30/2016
ms.prod: configuration-manager
ms.technology: configmgr-core
ms.topic: conceptual
ms.assetid: 2e27b0b7-7bd3-45cd-bc99-9c991606c637
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: c0885cab43deacf7e7f487e5c20e171f6475b302
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81704562"
---
# <a name="plan-a-client-migration-strategy-in-configuration-manager"></a>Планирование стратегии миграции клиентов в Configuration Manager

*Область применения: Configuration Manager (Current Branch)*

Для переноса клиентов из исходной иерархии в конечную иерархию Configuration Manager (Current Branch) следует выполнить две задачи. Необходимо перенести объекты, связанные с клиентом, а затем переустановить или переназначить клиенты из исходной иерархии в конечную. Сначала нужно перенести объекты, чтобы они были доступны при миграции клиентов. Объекты, связанные с клиентом, переносятся с помощью заданий миграции. Сведения о переносе объектов, связанных с клиентом, см. в разделе [Планирование стратегии заданий миграции](../../core/migration/planning-a-migration-job-strategy.md).  

 В следующих разделах описывается планирование переноса клиентов в конечную иерархию.  

-   [Планирование переноса клиентов в конечную иерархию](#Planning_for_Client_Agent_Migration)  

-   [Планирование обработки данных на клиентах в процессе миграции](#Planning_for_Client_Data_Migration)  

-   [Планирование использования данных по инвентаризации и соответствию требованиям во время миграции](#Planning_for_Inventory_data_migration)  

##  <a name="plan-to-migrate-clients-to-the-destination-hierarchy"></a><a name="Planning_for_Client_Agent_Migration"></a> Планирование переноса клиентов в конечную иерархию  
 При переносе клиентов из исходной иерархии клиентское программное обеспечение на клиентском компьютере обновляется в соответствии с версией продукта в конечной иерархии.  

-   **Исходная иерархия Configuration Manager 2007**: при переносе клиентов из исходной иерархии, в которой используется поддерживаемая версия Configuration Manager, клиентское программное обеспечение обновляется до версии клиента конечной иерархии.  

-   **Исходная иерархия System Center 2012 Configuration Manager или более поздней версии**: при переносе клиентов между иерархиями с одинаковой версией продукта клиентское программное обеспечение не изменяется и не обновляется. Вместо этого клиент выполняет повторное назначение из исходной структуры на сайте в конечной иерархии.  

    > [!NOTE]  
    >  Если версия продукта в иерархии не поддерживает перенос в конечную иерархию, обновите все сайты и клиенты в исходной иерархии до совместимой версии продукта. После обновления исходной иерархии до поддерживаемой версии продукта вы можете выполнить миграцию между иерархиями. Дополнительные сведения см. в подразделе [Версии Configuration Manager, поддерживаемые для миграции](../../core/migration/prerequisites-for-migration.md#BKMK_SupportedMigrationVersions) раздела [Необходимые условия для миграции](../../core/migration/prerequisites-for-migration.md).  

При планировании миграции клиентов используйте следующую информацию.  

-   Чтобы обновить или переназначить клиенты из исходного сайта конечному сайту, можно использовать любой метод развертывания клиента, который поддерживается для развертывания клиентов в конечной иерархии. К стандартным методам развертывания относятся принудительная установка клиентов, распространение программного обеспечения, групповая политика и установка клиентов на основе обновлений ПО. Дополнительные сведения см. в статье [Методы установки клиента в System Center Configuration Manager](../../core/clients/deploy/plan/client-installation-methods.md).  

-   Убедитесь в том, что устройство с клиентским программным обеспечением в исходной иерархии соответствует минимальным требованиям к оборудованию и работает под управлением операционной системы, которая поддерживается версией Configuration Manager в конечной иерархии.  

-   Перед миграцией клиента выполните задание миграции для переноса информации, которую клиент будет использовать в конечной иерархии.  

-   Обновленные клиенты сохраняют свои журналы выполнения для развертываний. Это предотвращает лишние развертывания в конечной иерархии.  

    -   Для клиентов Configuration Manager 2007 сохраняется журнал выполнения объявлений.  

    -   Для клиентов System Center 2012 Configuration Manager или Configuration Manager (Current Branch) сохраняется журнал выполнения развертывания.  

-   Вы можете перенести клиенты из сайтов в исходной иерархии в любом порядке. Но следует рассмотреть возможность миграции ограниченного числа клиентов поэтапно вместо переноса большого их количества за один раз. Поэтапная миграция сокращает требования к пропускной способности сети и обработке на сервере, когда каждый только что обновленный клиент отправляет назначенному сайту свои первоначальные полные данные об инвентаризации и соответствии требованиям.  

-   При переносе клиентов Configuration Manager 2007 существующее клиентское программное обеспечение удаляется с клиентского компьютера, после чего устанавливается новое клиентское ПО.  

-   Configuration Manager не может выполнить миграцию клиента Configuration Manager 2007 с установленным клиентом App-V, если он выпущен ранее версии App-V 4.6 с пакетом обновления 1 (SP1).  

Наблюдать за процессом миграции клиентов можно в узле **Миграция** рабочей области **Администрирование** в консоли Configuration Manager.  

После переноса клиента в конечную иерархию вы больше не сможете управлять этим устройством, используя исходную иерархию. Поэтому необходимо рассмотреть возможность удаления клиента из исходной иерархии. Хотя это не является обязательным требованием при переносе иерархий, это может помешать определению переносимого клиента в отчете исходной иерархии или привести к неверному подсчету ресурсов между двумя иерархиями в процессе переноса. Например, если переносимый клиент остается в базе данных исходного сайта, вы можете запустить отчет по обновлению программного обеспечения, который неверно определит компьютер как неуправляемый ресурс, хотя он управляется конечной иерархией.  

##  <a name="plan-to-handle-data-maintained-on-clients-during-migration"></a><a name="Planning_for_Client_Data_Migration"></a> Планирование обработки данных на клиентах в процессе миграции  
При переносе клиента из его исходной иерархии в конечную иерархию некоторые сведения сохраняются на устройстве, а другие данные на устройстве после переноса становятся недоступными.  

Следующие сведения сохраняются на клиентском устройстве.  

-   Уникальный идентификатор (GUID), связывающий клиента с его информацией в базе данных Configuration Manager.  

-   Журнал объявлений или развертывания, который не позволяет клиентам выполнять лишние запуски объявлений или развертываний в конечной иерархии.  

Следующие сведения не сохраняются на клиентском устройстве.  

-   Файлы в кэше клиента. Если клиенту эти файлы требуются для установки программного обеспечения, клиент загружает их снова из конечной иерархии.  

-   Данные из исходной иерархии о каких-либо объявлениях или развертываниях, которые еще не были выполнены. Если клиент должен запускать объявления или развертывания после миграция, следует повторно развернуть клиента в конечной иерархии.  

-   Сведения об инвентаризации. Клиент повторно отправляет эту информацию назначенному сайту в конечной иерархии после миграции клиента и создания новых данных клиента.  

-   Сведения о соответствии требованиям. Клиент повторно отправляет эту информацию назначенному сайту в конечной иерархии после миграции клиента и создания новых данных клиента.  

При переносе клиента информация, сохраненная в реестре клиента Configuration Manager и пути к файлам, не сохраняется. После миграции заново примените эти параметры. Ниже перечислены стандартные параметры.  

-   Схемы управления питанием  

-   Параметры ведения журнала  

-   Параметры локальной политики  

Кроме того, может потребоваться переустановка некоторых приложений.  

##  <a name="plan-for--inventory-and-compliance-data-during-migration"></a><a name="Planning_for_Inventory_data_migration"></a> Планирование использования данных об инвентаризации и соответствии требованиям во время миграции  
Данные об инвентаризации и соответствии требованиям не сохраняются при переносе клиента в конечную иерархию. Вместо этого данная информация воссоздается в конечной иерархии, когда клиент в первый раз отправляет свои данные назначенному сайту. Чтобы сократить итоговый объем требований к пропускной способности сети и объем обработки на сервере, рекомендуется переносить небольшое количество клиентов по отдельным этапам вместо миграции большого числа клиентов за один раз.  

 Кроме того, нельзя перенести настройки инвентаризации оборудования из исходной иерархии. Эти данные необходимо ввести в конечной иерархии независимо от миграции. Сведения о расширении инвентаризации оборудования см. в разделе [Настройка инвентаризации оборудования](../../core/clients/manage/inventory/configure-hardware-inventory.md).  
