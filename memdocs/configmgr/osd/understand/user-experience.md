---
title: Взаимодействие пользователей с развертыванием ОС
titleSuffix: Configuration Manager
description: Сведения о пользовательских интерфейсах, таких как ход выполнения последовательности задач и мастер носителей, для развертывания операционной системы в Configuration Manager.
ms.date: 04/01/2020
ms.prod: configuration-manager
ms.technology: configmgr-osd
ms.topic: conceptual
ms.assetid: 58849e40-30d5-4153-84b3-ca4af3a4f09d
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 5f92e76047a70f6d86406b1a364603163d902e62
ms.sourcegitcommit: bbf820c35414bf2cba356f30fe047c1a34c5384d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81703222"
---
# <a name="user-experiences-for-os-deployment"></a>Взаимодействие пользователей с развертыванием ОС

*Область применения: Configuration Manager (Current Branch)*

После [развертывания последовательности задач](../deploy-use/deploy-a-task-sequence.md), в зависимости от сценария, существуют различные способы взаимодействия пользователей с развертыванием. В этой статье описаны основные принципы работы пользователей с развертываниями ОС, а также способы их настройки.

- Уведомление пользователей в центре программного обеспечения для развертывания с высоким уровнем влияния
- Пример интерфейса загрузки PXE
- Мастер создания последовательности задач с носителя
- Окно хода выполнения последовательности задач
- Окно ошибок выполнения последовательности задач

## <a name="software-center"></a>Центр программного обеспечения

Для развертывания с высоким уровнем влияния можно настроить сообщение, отображаемое в центре программного обеспечения. Когда пользователь открывает развертывание ОС в центре программного обеспечения, он видит сообщение, аналогичное приведенному в следующем окне:

![Настраиваемое уведомление последовательности задач для конечного пользователя из центра программного обеспечения](../media/user-notification-enduser.png)

Дополнительные сведения о настройке сообщения в этом окне см. в разделе [Создание настраиваемого уведомления для развертываний с высоким риском](../deploy-use/manage-task-sequences-to-automate-tasks.md#create-a-custom-notification-for-high-risk-deployments).

Также можно настроить название организации в верхней части окна. (В приведенном выше примере показано значение по умолчанию — `IT Organization`.) Измените параметр клиента **Название организации** в группе **Агент компьютера**. Дополнительные сведения см. в разделе [Сведения о параметрах клиентов](../../core/clients/deploy/about-client-settings.md#computer-agent).

<!--
optional vs required
**Allow user to interact** on required deployment?
-->

Дополнительные сведения см. в статье [Использование центра программного обеспечения для развертывания Windows по сети](../deploy-use/use-software-center-to-deploy-windows-over-the-network.md).

## <a name="pxe"></a>PXE

Разные аппаратные модели имеют разные интерфейсы PXE. Для загрузки в сеть устройства на основе UEFI обычно используют ключ `Enter`, а устройства на основе BIOS используют ключ `F12`.

В следующем примере показан интерфейс PXE Hyper-V поколения 1 (BIOS).

![Пример экрана PXE BIOS из виртуальной машины Hyper-V](media/hyperv-pxe.png)

После успешной загрузки устройства через PXE оно ведет себя аналогично загрузочному носителю. Дополнительные сведения см. в следующем разделе о [мастере создания последовательности задач](#task-sequence-wizard).

Дополнительные сведения см. в статье [Использование PXE для развертывания Windows по сети](../deploy-use/use-pxe-to-deploy-windows-over-the-network.md).

> [!WARNING]
> При использовании PXE-развертываний и настройке оборудования устройства с помощью сетевого адаптера в качестве первого загрузочного устройства эти устройства могут автоматически запускать последовательность задач развертывания ОС без вмешательства пользователя. Проверка развертывания не управляет этой конфигурацией. Хотя такая конфигурация может упростить процесс и сократить взаимодействие с пользователем, она повышает риск случайного пересоздания образа.

## <a name="task-sequence-wizard"></a>Мастер создания последовательности задач

При использовании [носителя с последовательностью задач](../deploy-use/create-task-sequence-media.md) мастер запускается для пошагового выполнения процесса.

### <a name="welcome-to-the-task-sequence-wizard"></a>Добро пожаловать в мастер создания последовательности задач

![Снимок экрана: главная страница мастера создания последовательности задач](media/welcome-task-sequence-wizard.png)

- Если вы защищаете носитель паролем, пользователь должен ввести пароль на странице приветствия.

- Выберите **Настроить параметры сети**, чтобы указать статический IP-адрес или другие настраиваемые сетевые параметры. В противном случае устройство использует DHCP по умолчанию.

- Если в сети требуется прокси-сервер, выберите **Настроить параметры прокси-сервера**.

### <a name="select-a-task-sequence-to-run"></a>Выбор последовательности задач для запуска

При развертывании на устройстве нескольких последовательностей задач на этой странице необходимо выбрать последовательность задач. Обязательно используйте имя и описание последовательности задач, понятные пользователям.

![Снимок экрана: страница выбора последовательности задач в мастере создания последовательности задач](media/task-sequence-wizard-select.png)

### <a name="edit-task-sequence-variables"></a>Изменение переменных последовательности задач

Если у переменных последовательности задач есть пустые значения, мастер отображает страницу для изменения значений переменных.

![Снимок экрана: страница изменения переменных последовательности задач в мастере создания последовательности задач](media/task-sequence-wizard-variables.png)

## <a name="prestart-commands"></a>Команды перед запуском

Можно настроить носитель или загрузочные образы последовательности задач для выполнения команды перед запуском. Команда выполняется перед запуском последовательности задач. Далее перечислены некоторые из наиболее распространенных действий:

- запрос у пользователя динамических значений, например имени компьютера;
- указание конфигурации сети;
- настройка сопоставления пользователей и устройств.

Команда перед запуском — это командная строка, которую вы указываете с помощью скрипта или программы. Процесс работы уникален для конкретного сценария или программы.

Дополнительные сведения см. в следующих статьях:

- [Команды перед запуском для носителя с последовательностью задач](prestart-commands-for-task-sequence-media.md)
- [Управление загрузочными](../get-started/manage-boot-images.md#customization) образами
- [Носитель последовательности задач](../deploy-use/create-task-sequence-media.md)

## <a name="task-sequence-progress"></a>Ход выполнения последовательности задач

При выполнении последовательности задач отображается окно **Ход установки**.

![Пример окна хода выполнения последовательности задач](media/task-sequence-progress.png)

- Это окно всегда находится поверх остальных. Его можно перемещать, но нельзя закрывать или сворачивать.

- Также можно настроить название организации в верхней части окна. (В приведенном выше примере показано значение по умолчанию — `IT Organization`.) Измените параметр клиента **Название организации** в группе **Агент компьютера**. Дополнительные сведения см. в разделе [Сведения о параметрах клиентов](../../core/clients/deploy/about-client-settings.md#computer-agent).

    > [!TIP]
    > Последовательность задач сохраняет это значение в переменной, доступной только для чтения, [_SMSTSOrgName](task-sequence-variables.md#SMSTSOrgName).

- Подзаголовок можно настроить. (В приведенном выше примере показано значение по умолчанию — `Running: <task sequence name>`.) В свойствах последовательности задач выберите параметр **Использовать настраиваемый текст** для текста уведомления о ходе выполнения. Можно использовать не более 255 символов.

- **Выполняемое действие**. В первой строке отображается имя текущего выполняемого шага последовательности задач. На приведенном ниже индикаторе отображается общее выполнение последовательности задач.

- Во второй строке показаны некоторые шаги с подробными сведениями о ходе выполнения.

- Используйте переменную последовательности задач [TSDisableProgressUI](task-sequence-variables.md#TSDisableProgressUI) для управления отображением хода выполнения последовательности задач.

    Чтобы полностью отключить окно "Ход выполнения", отключите параметр **Отображать ход выполнения последовательности задач** на странице **Взаимодействие с пользователем** в развертывании последовательности задач.

Начиная с версии 2002, окно хода выполнения последовательности задач включает следующие улучшения.<!--5932692-->

- Отображение текущего номера шага, общего числа шагов и процента завершения

- Увеличена ширина окна, чтобы дать вам больше свободного пространства для отображения названия организации в одной строке

![Пример окна хода выполнения последовательности задач](media/2356386-task-sequence-progress.png)

По умолчанию в окне хода выполнения последовательности задач используется существующий текст. Если вы не вносили изменения, он будет работать так же, как в версии 1910 и более ранних версиях. Чтобы отобразить новые сведения о ходе выполнения, укажите переменную последовательности задач — [TSProgressInfoLevel](task-sequence-variables.md#TSProgressInfoLevel).

Количество и процент завершения указываются только для общей информации. Эти значения основаны на общем количестве шагов в последовательности задач. Для более сложной последовательности задач с шагами, которые выполняются условно на основе логики последовательности задач, ход выполнения может быть нелинейным.

Подсчет суммарных шагов не включает в последовательность задач следующие элементы.

- Группы. Этот элемент является контейнером для других этапов, а не самим этапом.

- Экземпляры шага **Запустить последовательность задач**. Этот шаг является контейнером для других шагов.

- Действия, которые были явно отключены. Отключенный шаг не выполняется во время последовательности задач.

    > [!NOTE]
    > Включенные шаги в отключенной группе все еще включаются в общий подсчет.

## <a name="task-sequence-error"></a>Ошибка последовательности задач

Если последовательность задач завершается ошибкой, отображается окно **Ошибка последовательности задач**.

![Пример окна ошибки последовательности задач](media/task-sequence-error.png)

- Данные заголовка настраиваются так же, как для окна "Ход выполнения последовательности задач".

- В нем отображается имя последовательности задач, код ошибки и общее сообщение для пользователей. Пример: `Task sequence: Upgrade to Windows 10 Enterprise has failed with the error code (0x80004005). For more information, contact your system administrator or helpdesk operator.`

- Окно автоматически закрывается по истечении времени ожидания. По умолчанию время ожидания составляет 15 минут. Это значение можно настроить с помощью переменной последовательности задач [SMSTSErrorDialogTimeout](task-sequence-variables.md#SMSTSErrorDialogTimeout).
